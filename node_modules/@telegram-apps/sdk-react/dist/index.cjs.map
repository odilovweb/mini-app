{"version":3,"file":"index.cjs","sources":["../../sdk/dist/index.js","../src/createHOCs.tsx","../src/SDKProvider/SDKContext.ts","../src/createHooks.ts","../src/hooks-hocs/back-button.ts","../src/hooks-hocs/biometry-manager.ts","../src/hooks-hocs/closing-behavior.ts","../src/hooks-hocs/cloud-storage.ts","../src/hooks-hocs/haptic-feedback.ts","../src/hooks-hocs/init-data.ts","../src/hooks-hocs/invoice.ts","../src/hooks-hocs/main-button.ts","../src/hooks-hocs/mini-app.ts","../src/hooks-hocs/popup.ts","../src/hooks-hocs/qr-scanner.ts","../src/hooks-hocs/settings-button.ts","../src/hooks-hocs/swipe-behavior.ts","../src/hooks-hocs/theme-params.ts","../src/hooks-hocs/launch-params.ts","../src/hooks-hocs/utils.ts","../src/hooks-hocs/viewport.ts","../src/SDKProvider/SDKProvider.tsx"],"sourcesContent":["var We = Object.defineProperty;\nvar Ue = (t, e, s) => e in t ? We(t, e, { enumerable: !0, configurable: !0, writable: !0, value: s }) : t[e] = s;\nvar c = (t, e, s) => Ue(t, typeof e != \"symbol\" ? e + \"\" : e, s);\nfunction oe(t, e) {\n  let s;\n  const n = () => {\n    s !== void 0 && e && e(s), s = void 0;\n  };\n  return [() => s === void 0 ? s = t(n) : s, n];\n}\nfunction ae(t) {\n  const e = M(), { count: s } = e;\n  e.unsubscribe(t), s && !e.count && it();\n}\nfunction He(t) {\n  return M().subscribe(t), () => ae(t);\n}\nclass Oe {\n  constructor(e, s = {}) {\n    this.scope = e, this.options = s;\n  }\n  /**\n   * Prints message into a console in case, logger is currently enabled.\n   * @param level - log level.\n   * @param args - arguments.\n   */\n  print(e, ...s) {\n    const n = /* @__PURE__ */ new Date(), r = Intl.DateTimeFormat(\"en-GB\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      fractionalSecondDigits: 3,\n      timeZone: \"UTC\"\n    }).format(n), { textColor: i, bgColor: o } = this.options, a = \"font-weight: bold;padding: 0 5px;border-radius:5px\";\n    console[e](\n      `%c${r}%c / %c${this.scope}`,\n      `${a};background-color: lightblue;color:black`,\n      \"\",\n      `${a};${i ? `color:${i};` : \"\"}${o ? `background-color:${o}` : \"\"}`,\n      ...s\n    );\n  }\n  /**\n   * Prints error message into a console.\n   * @param args\n   */\n  error(...e) {\n    this.print(\"error\", ...e);\n  }\n  /**\n   * Prints log message into a console.\n   * @param args\n   */\n  log(...e) {\n    this.print(\"log\", ...e);\n  }\n}\nconst F = new Oe(\"SDK\", {\n  bgColor: \"forestgreen\",\n  textColor: \"white\"\n});\nlet O = !1;\nconst se = ({ name: t, payload: e }) => {\n  F.log(\"Event received:\", e ? { name: t, payload: e } : { name: t });\n};\nfunction Kt(t) {\n  O !== t && (O = t, t ? He(se) : ae(se));\n}\nfunction Ge(...t) {\n  O && F.log(...t);\n}\nclass R {\n  constructor() {\n    c(this, \"listeners\", /* @__PURE__ */ new Map());\n    c(this, \"listenersCount\", 0);\n    c(this, \"subscribeListeners\", []);\n  }\n  /**\n   * Removes all event listeners.\n   */\n  clear() {\n    this.listeners.clear(), this.subscribeListeners = [];\n  }\n  /**\n   * Returns count of bound listeners.\n   */\n  get count() {\n    return this.listenersCount + this.subscribeListeners.length;\n  }\n  emit(e, ...s) {\n    this.subscribeListeners.forEach((r) => r({\n      event: e,\n      args: s\n    })), (this.listeners.get(e) || []).forEach(([r, i]) => {\n      r(...s), i && this.off(e, r);\n    });\n  }\n  /**\n   * Adds new event listener.\n   * @param event - event name.\n   * @param listener - event listener.\n   * @param once - should listener be called only once.\n   * @returns Function to remove bound event listener.\n   */\n  on(e, s, n) {\n    let r = this.listeners.get(e);\n    return r || this.listeners.set(e, r = []), r.push([s, n]), this.listenersCount += 1, () => this.off(e, s);\n  }\n  /**\n   * Removes event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param event - event name.\n   * @param listener - event listener.\n   */\n  off(e, s) {\n    const n = this.listeners.get(e) || [];\n    for (let r = 0; r < n.length; r += 1)\n      if (s === n[r][0]) {\n        n.splice(r, 1), this.listenersCount -= 1;\n        return;\n      }\n  }\n  /**\n   * Adds a new event listener for all events.\n   * @param listener - event listener.\n   * @returns Function to remove event listener.\n   */\n  subscribe(e) {\n    return this.subscribeListeners.push(e), () => this.unsubscribe(e);\n  }\n  /**\n   * Removes global event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param listener - event listener.\n   */\n  unsubscribe(e) {\n    for (let s = 0; s < this.subscribeListeners.length; s += 1)\n      if (this.subscribeListeners[s] === e) {\n        this.subscribeListeners.splice(s, 1);\n        return;\n      }\n  }\n}\nfunction G(t, e, s) {\n  return window.addEventListener(t, e, s), () => window.removeEventListener(t, e, s);\n}\nfunction J(...t) {\n  let e = !1;\n  const s = t.flat(1);\n  return [\n    (n) => !e && s.push(n),\n    () => {\n      e || (e = !0, s.forEach((n) => n()));\n    },\n    e\n  ];\n}\nclass V extends Error {\n  constructor(e, s, n) {\n    super(s, { cause: n }), this.type = e, Object.setPrototypeOf(this, V.prototype);\n  }\n}\nfunction f(t, e, s) {\n  return new V(t, e, s);\n}\nconst ze = \"ERR_METHOD_UNSUPPORTED\", je = \"ERR_METHOD_PARAMETER_UNSUPPORTED\", Fe = \"ERR_UNKNOWN_ENV\", Je = \"ERR_INVOKE_CUSTOM_METHOD_RESPONSE\", Qe = \"ERR_TIMED_OUT\", Ye = \"ERR_UNEXPECTED_TYPE\", ce = \"ERR_PARSE\", Ze = \"ERR_NAVIGATION_LIST_EMPTY\", Ke = \"ERR_NAVIGATION_CURSOR_INVALID\", Xt = \"ERR_NAVIGATION_ITEM_INVALID\", es = \"ERR_SSR_INIT\", Xe = \"ERR_INVALID_PATH_BASE\";\nfunction E() {\n  return f(Ye, \"Value has unexpected type\");\n}\nclass D {\n  constructor(e, s, n) {\n    this.parser = e, this.isOptional = s, this.type = n;\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(e) {\n    if (!(this.isOptional && e === void 0))\n      try {\n        return this.parser(e);\n      } catch (s) {\n        throw f(\n          ce,\n          `Unable to parse value${this.type ? ` as ${this.type}` : \"\"}`,\n          s\n        );\n      }\n  }\n  optional() {\n    return this.isOptional = !0, this;\n  }\n}\nfunction S(t, e) {\n  return () => new D(t, !1, e);\n}\nconst b = S((t) => {\n  if (typeof t == \"boolean\")\n    return t;\n  const e = String(t);\n  if (e === \"1\" || e === \"true\")\n    return !0;\n  if (e === \"0\" || e === \"false\")\n    return !1;\n  throw E();\n}, \"boolean\");\nfunction he(t, e) {\n  const s = {};\n  for (const n in t) {\n    const r = t[n];\n    if (!r)\n      continue;\n    let i, o;\n    if (typeof r == \"function\" || \"parse\" in r)\n      i = n, o = typeof r == \"function\" ? r : r.parse.bind(r);\n    else {\n      const { type: a } = r;\n      i = r.from || n, o = typeof a == \"function\" ? a : a.parse.bind(a);\n    }\n    try {\n      const a = o(e(i));\n      a !== void 0 && (s[n] = a);\n    } catch (a) {\n      throw f(ce, `Unable to parse field \"${n}\"`, a);\n    }\n  }\n  return s;\n}\nfunction pe(t) {\n  let e = t;\n  if (typeof e == \"string\" && (e = JSON.parse(e)), typeof e != \"object\" || e === null || Array.isArray(e))\n    throw E();\n  return e;\n}\nfunction g(t, e) {\n  return new D((s) => {\n    const n = pe(s);\n    return he(t, (r) => n[r]);\n  }, !1, e);\n}\nconst y = S((t) => {\n  if (typeof t == \"number\")\n    return t;\n  if (typeof t == \"string\") {\n    const e = Number(t);\n    if (!Number.isNaN(e))\n      return e;\n  }\n  throw E();\n}, \"number\"), p = S((t) => {\n  if (typeof t == \"string\" || typeof t == \"number\")\n    return t.toString();\n  throw E();\n}, \"string\");\nfunction ue(t) {\n  return g({\n    eventType: p(),\n    eventData: (e) => e\n  }).parse(t);\n}\nfunction et() {\n  [\"TelegramGameProxy_receiveEvent\", \"TelegramGameProxy\", \"Telegram\"].forEach((t) => {\n    delete window[t];\n  });\n}\nfunction z(t, e) {\n  window.dispatchEvent(new MessageEvent(\"message\", {\n    data: JSON.stringify({ eventType: t, eventData: e }),\n    // We specify window.parent to imitate the case, the parent iframe sent us this event.\n    source: window.parent\n  }));\n}\nfunction tt() {\n  [\n    [\"TelegramGameProxy_receiveEvent\"],\n    // Windows Phone.\n    [\"TelegramGameProxy\", \"receiveEvent\"],\n    // Desktop.\n    [\"Telegram\", \"WebView\", \"receiveEvent\"]\n    // Android and iOS.\n  ].forEach((t) => {\n    let e = window;\n    t.forEach((s, n, r) => {\n      if (n === r.length - 1) {\n        e[s] = z;\n        return;\n      }\n      s in e || (e[s] = {}), e = e[s];\n    });\n  });\n}\nconst st = {\n  clipboard_text_received: g({\n    req_id: p(),\n    data: (t) => t === null ? t : p().optional().parse(t)\n  }),\n  custom_method_invoked: g({\n    req_id: p(),\n    result: (t) => t,\n    error: p().optional()\n  }),\n  popup_closed: {\n    parse(t) {\n      return g({\n        button_id: (e) => e == null ? void 0 : p().parse(e)\n      }).parse(t ?? {});\n    }\n  },\n  viewport_changed: g({\n    height: y(),\n    width: (t) => t == null ? window.innerWidth : y().parse(t),\n    is_state_stable: b(),\n    is_expanded: b()\n  })\n};\nfunction nt() {\n  const t = new R(), e = new R();\n  e.subscribe((n) => {\n    t.emit(\"event\", { name: n.event, payload: n.args[0] });\n  }), tt();\n  const [, s] = J(\n    // Don't forget to remove created handlers.\n    et,\n    // Add \"resize\" event listener to make sure, we always have fresh viewport information.\n    // Desktop version of Telegram is sometimes not sending the viewport_changed\n    // event. For example, when the MainButton is shown. That's why we should\n    // add our own listener to make sure, viewport information is always fresh.\n    // Issue: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/10\n    G(\"resize\", () => {\n      e.emit(\"viewport_changed\", {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        is_state_stable: !0,\n        is_expanded: !0\n      });\n    }),\n    // Add listener, which handles events sent from the Telegram web application and also events\n    // generated by the local emitEvent function.\n    G(\"message\", (n) => {\n      if (n.source !== window.parent)\n        return;\n      let r;\n      try {\n        r = ue(n.data);\n      } catch {\n        return;\n      }\n      const { eventType: i, eventData: o } = r, a = st[i];\n      try {\n        const h = a ? a.parse(o) : o;\n        e.emit(...h ? [i, h] : [i]);\n      } catch (h) {\n        F.error(\n          `An error occurred processing the \"${i}\" event from the Telegram application.\nPlease, file an issue here:\nhttps://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,\n          r,\n          h\n        );\n      }\n    }),\n    // Clear emitters.\n    () => t.clear(),\n    () => e.clear()\n  );\n  return [{\n    on: e.on.bind(e),\n    off: e.off.bind(e),\n    subscribe(n) {\n      return t.on(\"event\", n);\n    },\n    unsubscribe(n) {\n      t.off(\"event\", n);\n    },\n    get count() {\n      return e.count + t.count;\n    }\n  }, s];\n}\nconst [rt, it] = oe(\n  (t) => {\n    const [e, s] = nt(), n = e.off.bind(e);\n    return e.off = (r, i) => {\n      const { count: o } = e;\n      n(r, i), o && !e.count && t();\n    }, [e, s];\n  },\n  ([, t]) => t()\n);\nfunction M() {\n  return rt()[0];\n}\nfunction B(t, e) {\n  M().off(t, e);\n}\nfunction w(t, e, s) {\n  return M().on(t, e, s);\n}\nfunction k(t) {\n  return typeof t == \"object\" && t !== null && !Array.isArray(t);\n}\nfunction ot(t, e) {\n  const s = t.split(\".\"), n = e.split(\".\"), r = Math.max(s.length, n.length);\n  for (let i = 0; i < r; i += 1) {\n    const o = parseInt(s[i] || \"0\", 10), a = parseInt(n[i] || \"0\", 10);\n    if (o !== a)\n      return o > a ? 1 : -1;\n  }\n  return 0;\n}\nfunction _(t, e) {\n  return ot(t, e) <= 0;\n}\nfunction v(t, e, s) {\n  if (typeof s == \"string\") {\n    if (t === \"web_app_open_link\") {\n      if (e === \"try_instant_view\")\n        return _(\"6.4\", s);\n      if (e === \"try_browser\")\n        return _(\"7.6\", s);\n    }\n    if (t === \"web_app_set_header_color\" && e === \"color\")\n      return _(\"6.9\", s);\n    if (t === \"web_app_close\" && e === \"return_back\")\n      return _(\"7.6\", s);\n  }\n  switch (t) {\n    case \"web_app_open_tg_link\":\n    case \"web_app_open_invoice\":\n    case \"web_app_setup_back_button\":\n    case \"web_app_set_background_color\":\n    case \"web_app_set_header_color\":\n    case \"web_app_trigger_haptic_feedback\":\n      return _(\"6.1\", e);\n    case \"web_app_open_popup\":\n      return _(\"6.2\", e);\n    case \"web_app_close_scan_qr_popup\":\n    case \"web_app_open_scan_qr_popup\":\n    case \"web_app_read_text_from_clipboard\":\n      return _(\"6.4\", e);\n    case \"web_app_switch_inline_query\":\n      return _(\"6.7\", e);\n    case \"web_app_invoke_custom_method\":\n    case \"web_app_request_write_access\":\n    case \"web_app_request_phone\":\n      return _(\"6.9\", e);\n    case \"web_app_setup_settings_button\":\n      return _(\"6.10\", e);\n    case \"web_app_biometry_get_info\":\n    case \"web_app_biometry_open_settings\":\n    case \"web_app_biometry_request_access\":\n    case \"web_app_biometry_request_auth\":\n    case \"web_app_biometry_update_token\":\n      return _(\"7.2\", e);\n    case \"web_app_setup_swipe_behavior\":\n      return _(\"7.7\", e);\n    default:\n      return [\n        \"iframe_ready\",\n        \"iframe_will_reload\",\n        \"web_app_close\",\n        \"web_app_data_send\",\n        \"web_app_expand\",\n        \"web_app_open_link\",\n        \"web_app_ready\",\n        \"web_app_request_theme\",\n        \"web_app_request_viewport\",\n        \"web_app_setup_main_button\",\n        \"web_app_setup_closing_behavior\"\n      ].includes(t);\n  }\n}\nfunction le(t) {\n  return \"external\" in t && k(t.external) && \"notify\" in t.external && typeof t.external.notify == \"function\";\n}\nfunction de(t) {\n  return \"TelegramWebviewProxy\" in t && k(t.TelegramWebviewProxy) && \"postEvent\" in t.TelegramWebviewProxy && typeof t.TelegramWebviewProxy.postEvent == \"function\";\n}\nfunction _e() {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return !0;\n  }\n}\nconst at = \"https://web.telegram.org\";\nlet fe = at;\nfunction ts(t) {\n  fe = t;\n}\nfunction ct() {\n  return fe;\n}\nfunction A(t, e, s) {\n  let n = {}, r;\n  if (!e && !s ? n = {} : e && s ? (n = s, r = e) : e && (\"targetOrigin\" in e ? n = e : r = e), Ge(\"Posting event:\", r ? { event: t, data: r } : { event: t }), _e())\n    return window.parent.postMessage(\n      JSON.stringify({ eventType: t, eventData: r }),\n      n.targetOrigin || ct()\n    );\n  if (le(window)) {\n    window.external.notify(JSON.stringify({ eventType: t, eventData: r }));\n    return;\n  }\n  if (de(window)) {\n    window.TelegramWebviewProxy.postEvent(t, JSON.stringify(r));\n    return;\n  }\n  throw f(\n    Fe,\n    \"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.\"\n  );\n}\nfunction ht(t) {\n  return (e, s) => {\n    if (!v(e, t))\n      throw f(ze, `Method \"${e}\" is unsupported in Mini Apps version ${t}`);\n    if (k(s) && e === \"web_app_set_header_color\" && \"color\" in s && !v(e, \"color\", t))\n      throw f(\n        je,\n        `Parameter \"color\" of \"${e}\" method is unsupported in Mini Apps version ${t}`\n      );\n    return A(e, s);\n  };\n}\nfunction ge(t) {\n  return ({ req_id: e }) => e === t;\n}\nfunction we(t) {\n  return f(Qe, `Timeout reached: ${t}ms`);\n}\nfunction be(t, e) {\n  return Promise.race([\n    typeof t == \"function\" ? t() : t,\n    new Promise((s, n) => {\n      setTimeout(() => {\n        n(we(e));\n      }, e);\n    })\n  ]);\n}\nasync function d(t) {\n  let e;\n  const s = new Promise((a) => e = a), { event: n, capture: r, timeout: i } = t, [, o] = J(\n    // We need to iterate over all tracked events, and create their event listeners.\n    (Array.isArray(n) ? n : [n]).map((a) => w(a, (h) => {\n      (!r || (Array.isArray(n) ? r({\n        event: a,\n        payload: h\n      }) : r(h))) && e(h);\n    }))\n  );\n  try {\n    return (t.postEvent || A)(t.method, t.params), await (i ? be(s, i) : s);\n  } finally {\n    o();\n  }\n}\nasync function C(t, e, s, n = {}) {\n  const {\n    result: r,\n    error: i\n  } = await d({\n    ...n,\n    method: \"web_app_invoke_custom_method\",\n    event: \"custom_method_invoked\",\n    params: {\n      method: t,\n      params: e,\n      req_id: s\n    },\n    capture: ge(s)\n  });\n  if (i)\n    throw f(Je, i);\n  return r;\n}\nfunction j(...t) {\n  return t.map((e) => {\n    if (typeof e == \"string\")\n      return e;\n    if (k(e))\n      return j(Object.entries(e).map((s) => s[1] && s[0]));\n    if (Array.isArray(e))\n      return j(...e);\n  }).filter(Boolean).join(\" \");\n}\nfunction ss(...t) {\n  return t.reduce((e, s) => (k(s) && Object.entries(s).forEach(([n, r]) => {\n    const i = j(e[n], r);\n    i.length && (e[n] = i);\n  }), e), {});\n}\nfunction Q(t) {\n  return /^#[\\da-f]{6}$/i.test(t);\n}\nfunction pt(t) {\n  return /^#[\\da-f]{3}$/i.test(t);\n}\nfunction me(t) {\n  const e = t.replace(/\\s/g, \"\").toLowerCase();\n  if (Q(e))\n    return e;\n  if (pt(e)) {\n    let n = \"#\";\n    for (let r = 0; r < 3; r += 1)\n      n += e[1 + r].repeat(2);\n    return n;\n  }\n  const s = e.match(/^rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/) || e.match(/^rgba\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),\\d{1,3}\\)$/);\n  if (!s)\n    throw new Error(`Value \"${t}\" does not satisfy any of known RGB formats.`);\n  return s.slice(1).reduce((n, r) => {\n    const i = parseInt(r, 10).toString(16);\n    return n + (i.length === 1 ? \"0\" : \"\") + i;\n  }, \"#\");\n}\nfunction ye(t) {\n  const e = me(t);\n  return Math.sqrt(\n    [0.299, 0.587, 0.114].reduce((s, n, r) => {\n      const i = parseInt(e.slice(1 + r * 2, 1 + (r + 1) * 2), 16);\n      return s + i * i * n;\n    }, 0)\n  ) < 120;\n}\nclass ut {\n  constructor(e) {\n    c(this, \"ee\", new R());\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    this.state = e;\n  }\n  /**\n   * Clones current state and returns its copy.\n   */\n  clone() {\n    return { ...this.state };\n  }\n  set(e, s) {\n    Object.entries(typeof e == \"string\" ? { [e]: s } : e).reduce((r, [i, o]) => this.state[i] === o || o === void 0 ? r : (this.state[i] = o, this.ee.emit(`change:${i}`, o), !0), !1) && this.ee.emit(\"change\", this.state);\n  }\n  /**\n   * Returns value by specified key.\n   * @param key - state key.\n   */\n  get(e) {\n    return this.state[e];\n  }\n}\nclass Y {\n  constructor(e) {\n    c(this, \"state\");\n    /**\n     * Gets the state value.\n     */\n    c(this, \"get\");\n    /**\n     * Sets the state value.\n     */\n    c(this, \"set\");\n    /**\n     * Clones the current state.\n     */\n    c(this, \"clone\");\n    this.state = new ut(e), this.set = this.state.set.bind(this.state), this.get = this.state.get.bind(this.state), this.clone = this.state.clone.bind(this.state);\n  }\n}\nfunction ve(t, e) {\n  return (s) => v(e[s], t);\n}\nclass Z extends Y {\n  constructor(s, n, r) {\n    super(s);\n    /**\n     * @returns True, if specified method is supported by the current component.\n     */\n    c(this, \"supports\");\n    this.supports = ve(n, r);\n  }\n}\nclass lt extends Z {\n  constructor(s, n, r) {\n    super({ isVisible: s }, n, {\n      show: \"web_app_setup_back_button\",\n      hide: \"web_app_setup_back_button\"\n    });\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? w(\"back_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"back_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = r;\n  }\n  set isVisible(s) {\n    this.set(\"isVisible\", s), this.postEvent(\"web_app_setup_back_button\", { is_visible: s });\n  }\n  /**\n   * True if BackButton is currently visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the BackButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the BackButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nconst Ee = S((t) => t instanceof Date ? t : new Date(y().parse(t) * 1e3), \"Date\");\nfunction K(t, e) {\n  return new D((s) => {\n    if (typeof s != \"string\" && !(s instanceof URLSearchParams))\n      throw E();\n    const n = typeof s == \"string\" ? new URLSearchParams(s) : s;\n    return he(t, (r) => {\n      const i = n.get(r);\n      return i === null ? void 0 : i;\n    });\n  }, !1, e);\n}\nconst dt = g({\n  id: y(),\n  type: p(),\n  title: p(),\n  photoUrl: {\n    type: p().optional(),\n    from: \"photo_url\"\n  },\n  username: p().optional()\n}, \"Chat\").optional(), ne = g({\n  addedToAttachmentMenu: {\n    type: b().optional(),\n    from: \"added_to_attachment_menu\"\n  },\n  allowsWriteToPm: {\n    type: b().optional(),\n    from: \"allows_write_to_pm\"\n  },\n  firstName: {\n    type: p(),\n    from: \"first_name\"\n  },\n  id: y(),\n  isBot: {\n    type: b().optional(),\n    from: \"is_bot\"\n  },\n  isPremium: {\n    type: b().optional(),\n    from: \"is_premium\"\n  },\n  languageCode: {\n    type: p().optional(),\n    from: \"language_code\"\n  },\n  lastName: {\n    type: p().optional(),\n    from: \"last_name\"\n  },\n  photoUrl: {\n    type: p().optional(),\n    from: \"photo_url\"\n  },\n  username: p().optional()\n}, \"User\").optional();\nfunction Se() {\n  return K({\n    authDate: {\n      type: Ee(),\n      from: \"auth_date\"\n    },\n    canSendAfter: {\n      type: y().optional(),\n      from: \"can_send_after\"\n    },\n    chat: dt,\n    chatInstance: {\n      type: p().optional(),\n      from: \"chat_instance\"\n    },\n    chatType: {\n      type: p().optional(),\n      from: \"chat_type\"\n    },\n    hash: p(),\n    queryId: {\n      type: p().optional(),\n      from: \"query_id\"\n    },\n    receiver: ne,\n    startParam: {\n      type: p().optional(),\n      from: \"start_param\"\n    },\n    user: ne\n  }, \"InitData\");\n}\nconst _t = S((t) => me(p().parse(t)), \"rgb\");\nfunction ft(t) {\n  return t.replace(/_[a-z]/g, (e) => e[1].toUpperCase());\n}\nfunction gt(t) {\n  return t.replace(/[A-Z]/g, (e) => `_${e.toLowerCase()}`);\n}\nconst Pe = S(\n  (t) => {\n    const e = _t().optional();\n    return Object.entries(pe(t)).reduce((s, [n, r]) => (s[ft(n)] = e.parse(r), s), {});\n  },\n  \"ThemeParams\"\n);\nfunction X(t) {\n  return K({\n    botInline: {\n      type: b().optional(),\n      from: \"tgWebAppBotInline\"\n    },\n    initData: {\n      type: Se().optional(),\n      from: \"tgWebAppData\"\n    },\n    initDataRaw: {\n      type: p().optional(),\n      from: \"tgWebAppData\"\n    },\n    platform: {\n      type: p(),\n      from: \"tgWebAppPlatform\"\n    },\n    showSettings: {\n      type: b().optional(),\n      from: \"tgWebAppShowSettings\"\n    },\n    startParam: {\n      type: p().optional(),\n      from: \"tgWebAppStartParam\"\n    },\n    themeParams: {\n      type: Pe(),\n      from: \"tgWebAppThemeParams\"\n    },\n    version: {\n      type: p(),\n      from: \"tgWebAppVersion\"\n    }\n  }).parse(t);\n}\nfunction xe(t) {\n  return X(\n    t.replace(/^[^?#]*[?#]/, \"\").replace(/[?#]/g, \"&\")\n  );\n}\nfunction wt() {\n  return xe(window.location.href);\n}\nfunction Ce() {\n  return performance.getEntriesByType(\"navigation\")[0];\n}\nfunction bt() {\n  const t = Ce();\n  if (!t)\n    throw new Error(\"Unable to get first navigation entry.\");\n  return xe(t.name);\n}\nfunction Te(t) {\n  return `telegram-apps/${t.replace(/[A-Z]/g, (e) => `-${e.toLowerCase()}`)}`;\n}\nfunction Re(t, e) {\n  sessionStorage.setItem(Te(t), JSON.stringify(e));\n}\nfunction Ae(t) {\n  const e = sessionStorage.getItem(Te(t));\n  try {\n    return e ? JSON.parse(e) : void 0;\n  } catch {\n  }\n}\nfunction mt() {\n  return X(Ae(\"launchParams\") || \"\");\n}\nfunction Ie(t) {\n  return JSON.stringify(\n    Object.fromEntries(\n      Object.entries(t).map(([e, s]) => [gt(e), s])\n    )\n  );\n}\nfunction yt(t) {\n  const {\n    initDataRaw: e,\n    themeParams: s,\n    platform: n,\n    version: r,\n    showSettings: i,\n    startParam: o,\n    botInline: a\n  } = t, h = new URLSearchParams();\n  return h.set(\"tgWebAppPlatform\", n), h.set(\"tgWebAppThemeParams\", Ie(s)), h.set(\"tgWebAppVersion\", r), e && h.set(\"tgWebAppData\", e), o && h.set(\"tgWebAppStartParam\", o), typeof i == \"boolean\" && h.set(\"tgWebAppShowSettings\", i ? \"1\" : \"0\"), typeof a == \"boolean\" && h.set(\"tgWebAppBotInline\", a ? \"1\" : \"0\"), h.toString();\n}\nfunction qe(t) {\n  Re(\"launchParams\", yt(t));\n}\nfunction vt() {\n  for (const t of [\n    // Try to retrieve launch parameters from the current location. This method can return\n    // nothing in case, location was changed and then page was reloaded.\n    wt,\n    // Then, try using the lower level API - window.performance.\n    bt,\n    // Finally, try to extract launch parameters from the session storage.\n    mt\n  ])\n    try {\n      const e = t();\n      return qe(e), e;\n    } catch {\n    }\n  throw new Error(`Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside of Telegram?\n\nðŸ“– Refer to docs for more information:\nhttps://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment`);\n}\nfunction ke() {\n  const t = Ce();\n  return !!(t && t.type === \"reload\");\n}\nfunction Et() {\n  let t = 0;\n  return () => (t += 1).toString();\n}\nconst [St] = oe(Et);\nfunction l(t, e) {\n  return () => {\n    const s = vt(), n = {\n      ...s,\n      postEvent: ht(s.version),\n      createRequestId: St()\n    };\n    if (typeof t == \"function\")\n      return t(n);\n    const [r, i, o] = J(), a = e({\n      ...n,\n      // State should only be passed only in case, current page was reloaded. If we don't add\n      // this check, state restoration will work improperly in the web version of Telegram,\n      // when we are always working in the same \"session\" (tab).\n      state: ke() ? Ae(t) : void 0,\n      addCleanup: r\n    }), h = (u) => (o || r(\n      u.on(\"change\", ($e) => {\n        Re(t, $e);\n      })\n    ), u);\n    return [\n      a instanceof Promise ? a.then(h) : h(a),\n      i\n    ];\n  };\n}\nconst ns = l(\"backButton\", ({\n  postEvent: t,\n  version: e,\n  state: s = { isVisible: !1 }\n}) => new lt(s.isVisible, e, t));\nclass P extends Z {\n  constructor() {\n    super(...arguments);\n    /**\n     * Adds a new event listener.\n     */\n    c(this, \"on\", this.state.on.bind(this.state));\n    /**\n     * Removes the event listener.\n     */\n    c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nfunction Ne(t) {\n  const e = t.available ? t : {\n    available: !1,\n    device_id: \"\",\n    token_saved: !1,\n    access_requested: !1,\n    access_granted: !1,\n    type: \"\"\n  };\n  return {\n    available: !0,\n    type: e.type,\n    deviceId: e.device_id,\n    tokenSaved: e.token_saved,\n    accessRequested: e.access_requested,\n    accessGranted: e.access_granted\n  };\n}\nclass Pt extends P {\n  constructor({ postEvent: s, version: n, ...r }) {\n    super(r, n, {\n      auth: \"web_app_biometry_request_auth\",\n      openSettings: \"web_app_biometry_open_settings\",\n      requestAccess: \"web_app_biometry_request_access\",\n      updateToken: \"web_app_biometry_update_token\"\n    });\n    c(this, \"postEvent\");\n    c(this, \"authPromise\");\n    c(this, \"accessPromise\");\n    this.postEvent = s;\n  }\n  /**\n   * Shows whether biometry is available.\n   */\n  get available() {\n    return this.get(\"available\");\n  }\n  /**\n   * Shows whether permission to use biometrics has been granted.\n   */\n  get accessGranted() {\n    return this.get(\"accessGranted\");\n  }\n  /**\n   * Shows whether if permission to use biometrics has been requested.\n   */\n  get accessRequested() {\n    return this.get(\"accessRequested\");\n  }\n  /**\n   * Authenticates the user using biometrics.\n   * @param options - method options.\n   * @since 7.2\n   * @returns Token from the local secure storage, if authentication was successful.\n   */\n  async authenticate({\n    reason: s,\n    ...n\n  }) {\n    return this.authPromise || (this.authPromise = d({\n      ...n,\n      method: \"web_app_biometry_request_auth\",\n      event: \"biometry_auth_requested\",\n      postEvent: this.postEvent,\n      params: {\n        // TODO: Check if reason is empty works fine.\n        reason: (s || \"\").trim()\n      }\n    }).then(({ token: r }) => r).finally(() => this.authPromise = void 0)), this.authPromise;\n  }\n  /**\n   * A unique device identifier that can be used to match the token to the device.\n   */\n  get deviceId() {\n    return this.get(\"deviceId\");\n  }\n  /**\n   * Opens the biometric access settings for bots. Useful when you need to request biometrics\n   * access to users who haven't granted it yet.\n   *\n   * _Note that this method can be called only in response to user interaction with the Mini App\n   * interface (e.g. a click inside the Mini App or on the main button)_.\n   * @since 7.2\n   */\n  openSettings() {\n    this.postEvent(\"web_app_biometry_open_settings\");\n  }\n  /**\n   * Requests permission to use biometrics.\n   * @since 7.2\n   * @returns Promise with true, if access was granted.\n   */\n  requestAccess({ reason: s, ...n } = {}) {\n    return this.accessPromise || (this.accessPromise = d({\n      ...n,\n      postEvent: this.postEvent,\n      method: \"web_app_biometry_request_access\",\n      event: \"biometry_info_received\",\n      params: { reason: s || \"\" }\n    }).then((r) => {\n      const i = Ne(r);\n      return this.set(i), i.accessGranted;\n    }).finally(() => this.accessPromise = void 0)), this.accessPromise;\n  }\n  /**\n   * The type of biometrics currently available on the device.\n   */\n  get biometryType() {\n    return this.get(\"biometryType\");\n  }\n  /**\n   * Shows whether token was saved previously in the local secure storage.\n   */\n  get tokenSaved() {\n    return this.get(\"tokenSaved\");\n  }\n  /**\n   * Updates the biometric token in a secure storage on the device.\n   * @returns Promise with `true`, if token was updated.\n   */\n  async updateToken({ token: s, ...n } = {}) {\n    return [\"removed\", \"updated\"].includes(\n      (await d({\n        ...n,\n        postEvent: this.postEvent,\n        method: \"web_app_biometry_update_token\",\n        event: \"biometry_token_updated\",\n        params: { token: s || \"\" }\n      })).status\n    );\n  }\n}\nasync function xt(t) {\n  return Ne(\n    await d({\n      ...t || {},\n      method: \"web_app_biometry_get_info\",\n      event: \"biometry_info_received\"\n    })\n  );\n}\nconst rs = l(\n  \"biometryManager\",\n  async ({ postEvent: t, version: e, state: s }) => new Pt({\n    ...s || v(\"web_app_biometry_get_info\", e) ? s || await xt({ timeout: 1e3 }) : {\n      available: !1,\n      accessGranted: !1,\n      accessRequested: !1,\n      tokenSaved: !1,\n      deviceId: \"\"\n    },\n    version: e,\n    postEvent: t\n  })\n);\nclass ee extends Y {\n  constructor() {\n    super(...arguments);\n    /**\n     * Adds a new event listener.\n     */\n    c(this, \"on\", this.state.on.bind(this.state));\n    /**\n     * Removes the event listener.\n     */\n    c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nclass Ct extends ee {\n  constructor(e, s) {\n    super({ isConfirmationNeeded: e }), this.postEvent = s;\n  }\n  set isConfirmationNeeded(e) {\n    this.set(\"isConfirmationNeeded\", e), this.postEvent(\"web_app_setup_closing_behavior\", { need_confirmation: e });\n  }\n  /**\n   * True, if the confirmation dialog should be shown while the user is trying to close\n   * the Mini App.\n   */\n  get isConfirmationNeeded() {\n    return this.get(\"isConfirmationNeeded\");\n  }\n  /**\n   * Disables the confirmation dialog when closing the Mini App.\n   */\n  disableConfirmation() {\n    this.isConfirmationNeeded = !1;\n  }\n  /**\n   * Enables the confirmation dialog when closing the Mini App.\n   */\n  enableConfirmation() {\n    this.isConfirmationNeeded = !0;\n  }\n}\nconst is = l(\n  \"closingBehavior\",\n  ({\n    postEvent: t,\n    state: e = { isConfirmationNeeded: !1 }\n  }) => new Ct(e.isConfirmationNeeded, t)\n);\nclass te {\n  constructor(e, s) {\n    /**\n     * @returns True, if specified method is supported by the current component.\n     */\n    c(this, \"supports\");\n    this.supports = ve(e, s);\n  }\n}\nfunction Tt(t) {\n  if (Array.isArray(t))\n    return t;\n  if (typeof t == \"string\")\n    try {\n      const e = JSON.parse(t);\n      if (Array.isArray(e))\n        return e;\n    } catch {\n    }\n  throw E();\n}\nclass Rt extends D {\n  constructor(s, n, r) {\n    super(Tt, n, r);\n    c(this, \"itemParser\");\n    this.itemParser = typeof s == \"function\" ? s : s.parse.bind(s);\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(s) {\n    const n = super.parse(s);\n    return n === void 0 ? n : n.map(this.itemParser);\n  }\n  of(s) {\n    return this.itemParser = typeof s == \"function\" ? s : s.parse.bind(s), this;\n  }\n}\nfunction At(t) {\n  return new Rt((e) => e, !1, t);\n}\nfunction re(t, e) {\n  return Object.fromEntries(t.map((s) => [s, e]));\n}\nclass It extends te {\n  constructor(e, s, n) {\n    super(e, {\n      delete: \"web_app_invoke_custom_method\",\n      get: \"web_app_invoke_custom_method\",\n      getKeys: \"web_app_invoke_custom_method\",\n      set: \"web_app_invoke_custom_method\"\n    }), this.createRequestId = s, this.postEvent = n;\n  }\n  /**\n   * Deletes specified key or keys from the cloud storage.\n   * @param keyOrKeys - key or keys to delete.\n   * @param options - request execution options.\n   */\n  async delete(e, s = {}) {\n    const n = Array.isArray(e) ? e : [e];\n    n.length && await C(\n      \"deleteStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...s, postEvent: this.postEvent }\n    );\n  }\n  /**\n   * Returns list of all keys presented in the cloud storage.\n   * @param options - request execution options.\n   */\n  async getKeys(e = {}) {\n    return At().of(p()).parse(\n      await C(\n        \"getStorageKeys\",\n        {},\n        this.createRequestId(),\n        { ...e, postEvent: this.postEvent }\n      )\n    );\n  }\n  async get(e, s = {}) {\n    const n = Array.isArray(e) ? e : [e];\n    if (!n.length)\n      return re(n, \"\");\n    const r = await C(\n      \"getStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...s, postEvent: this.postEvent }\n    ), i = g(re(n, p()), \"CloudStorageData\").parse(r);\n    return Array.isArray(e) ? i : i[e];\n  }\n  /**\n   * Saves specified value by key.\n   * @param key - storage key.\n   * @param value - storage value.\n   * @param options - request execution options.\n   */\n  async set(e, s, n = {}) {\n    await C(\n      \"saveStorageValue\",\n      { key: e, value: s },\n      this.createRequestId(),\n      { ...n, postEvent: this.postEvent }\n    );\n  }\n}\nconst os = l(\n  ({ createRequestId: t, postEvent: e, version: s }) => new It(s, t, e)\n);\nclass qt extends te {\n  constructor(e, s) {\n    super(e, {\n      impactOccurred: \"web_app_trigger_haptic_feedback\",\n      notificationOccurred: \"web_app_trigger_haptic_feedback\",\n      selectionChanged: \"web_app_trigger_haptic_feedback\"\n    }), this.postEvent = s;\n  }\n  /**\n   * A method tells that an impact occurred. The Telegram app may play the\n   * appropriate haptics based on style value passed.\n   * @param style - impact style.\n   */\n  impactOccurred(e) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"impact\",\n      impact_style: e\n    });\n  }\n  /**\n   * A method tells that a task or action has succeeded, failed, or produced\n   * a warning. The Telegram app may play the appropriate haptics based on\n   * type value passed.\n   * @param type - notification type.\n   */\n  notificationOccurred(e) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"notification\",\n      notification_type: e\n    });\n  }\n  /**\n   * A method tells that the user has changed a selection. The Telegram app\n   * may play the appropriate haptics.\n   *\n   * Do not use this feedback when the user makes or confirms a selection;\n   * use it only when the selection changes.\n   */\n  selectionChanged() {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", { type: \"selection_change\" });\n  }\n}\nconst as = l(\n  ({ version: t, postEvent: e }) => new qt(t, e)\n);\nclass kt {\n  constructor(e) {\n    this.initData = e;\n  }\n  /**\n   * @see InitDataParsed.authDate\n   */\n  get authDate() {\n    return this.initData.authDate;\n  }\n  /**\n   * @see InitDataParsed.canSendAfter\n   */\n  get canSendAfter() {\n    return this.initData.canSendAfter;\n  }\n  /**\n   * Date after which it is allowed to call\n   * the [answerWebAppQuery](https://core.telegram.org/bots/api#answerwebappquery) method.\n   */\n  get canSendAfterDate() {\n    const { canSendAfter: e } = this;\n    return e ? new Date(this.authDate.getTime() + e * 1e3) : void 0;\n  }\n  /**\n   * @see InitDataParsed.chat\n   */\n  get chat() {\n    return this.initData.chat;\n  }\n  /**\n   * @see InitDataParsed.chatType\n   */\n  get chatType() {\n    return this.initData.chatType;\n  }\n  /**\n   * @see InitDataParsed.chatInstance\n   */\n  get chatInstance() {\n    return this.initData.chatInstance;\n  }\n  /**\n   * @see InitDataParsed.hash\n   */\n  get hash() {\n    return this.initData.hash;\n  }\n  /**\n   * @see InitDataParsed.queryId\n   */\n  get queryId() {\n    return this.initData.queryId;\n  }\n  /**\n   * @see InitDataParsed.receiver\n   */\n  get receiver() {\n    return this.initData.receiver;\n  }\n  /**\n   * @see InitDataParsed.startParam\n   */\n  get startParam() {\n    return this.initData.startParam;\n  }\n  /**\n   * @see InitDataParsed.user\n   */\n  get user() {\n    return this.initData.user;\n  }\n}\nconst cs = l(\n  ({ initData: t }) => t ? new kt(t) : void 0\n);\nfunction hs(t) {\n  return Se().parse(t);\n}\nclass Nt extends P {\n  constructor(e, s, n) {\n    super({ isOpened: e }, s, { open: \"web_app_open_invoice\" }), this.postEvent = n;\n  }\n  set isOpened(e) {\n    this.set(\"isOpened\", e);\n  }\n  /**\n   * True if invoice is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  async open(e, s) {\n    if (this.isOpened)\n      throw new Error(\"Invoice is already opened\");\n    let n;\n    if (!s)\n      n = e;\n    else {\n      const { hostname: r, pathname: i } = new URL(e, window.location.href);\n      if (r !== \"t.me\")\n        throw new Error(`Incorrect hostname: ${r}`);\n      const o = i.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/);\n      if (!o)\n        throw new Error('Link pathname has incorrect format. Expected to receive \"/invoice/{slug}\" or \"/${slug}\"');\n      [, , n] = o;\n    }\n    this.isOpened = !0;\n    try {\n      return (await d({\n        method: \"web_app_open_invoice\",\n        event: \"invoice_closed\",\n        params: { slug: n },\n        postEvent: this.postEvent,\n        capture(i) {\n          return n === i.slug;\n        }\n      })).status;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst ps = l(\n  ({ version: t, postEvent: e }) => new Nt(!1, t, e)\n);\nclass Vt extends Y {\n  constructor({ postEvent: s, ...n }) {\n    super(n);\n    c(this, \"postEvent\");\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? w(\"main_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"main_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = s;\n  }\n  /**\n   * The MainButton background color.\n   */\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  /**\n   * Sends current local state to the Telegram application.\n   */\n  commit() {\n    this.text !== \"\" && this.postEvent(\"web_app_setup_main_button\", {\n      is_visible: this.isVisible,\n      is_active: this.isEnabled,\n      is_progress_visible: this.isLoaderVisible,\n      text: this.text,\n      color: this.bgColor,\n      text_color: this.textColor\n    });\n  }\n  /**\n   * Disables the MainButton.\n   * @see Does not work on Android: https://github.com/Telegram-Mini-Apps/issues/issues/1\n   */\n  disable() {\n    return this.isEnabled = !1, this;\n  }\n  /**\n   * Enables the MainButton.\n   */\n  enable() {\n    return this.isEnabled = !0, this;\n  }\n  /**\n   * Hides the MainButton.\n   */\n  hide() {\n    return this.isVisible = !1, this;\n  }\n  /**\n   * Hides the MainButton loading indicator.\n   */\n  hideLoader() {\n    return this.isLoaderVisible = !1, this;\n  }\n  set isEnabled(s) {\n    this.setParams({ isEnabled: s });\n  }\n  /**\n   * True if the MainButton is enabled.\n   */\n  get isEnabled() {\n    return this.get(\"isEnabled\");\n  }\n  set isLoaderVisible(s) {\n    this.setParams({ isLoaderVisible: s });\n  }\n  /**\n   * True if the MainButton loader is visible.\n   */\n  get isLoaderVisible() {\n    return this.get(\"isLoaderVisible\");\n  }\n  set isVisible(s) {\n    this.setParams({ isVisible: s });\n  }\n  /**\n   * True if the MainButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Shows the MainButton.\n   *\n   * Note that opening the Mini App from the attachment menu hides the main button until the\n   * user interacts with the Mini App interface.\n   */\n  show() {\n    return this.isVisible = !0, this;\n  }\n  /**\n   * Shows a loading indicator on the Main Button.\n   */\n  showLoader() {\n    return this.isLoaderVisible = !0, this;\n  }\n  /**\n   * Sets a new MainButton text. Minimal length for the text is 1 symbol, and maximum is 64 symbols.\n   * @param text - a new text.\n   */\n  setText(s) {\n    return this.setParams({ text: s });\n  }\n  /**\n   * Sets a new Main Button text color.\n   * @param textColor - new text color.\n   */\n  setTextColor(s) {\n    return this.setParams({ textColor: s });\n  }\n  /**\n   * Updates current Main Button color.\n   * @param bgColor - color to set.\n   */\n  setBgColor(s) {\n    return this.setParams({ bgColor: s });\n  }\n  /**\n   * Allows setting multiple Main Button parameters.\n   * @param params - Main Button parameters.\n   */\n  setParams(s) {\n    return this.set(s), this.commit(), this;\n  }\n  /**\n   * The MainButton text.\n   */\n  get text() {\n    return this.get(\"text\");\n  }\n  /**\n   * The MainButton text color.\n   */\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n}\nconst us = l(\n  \"mainButton\",\n  ({\n    postEvent: t,\n    themeParams: e,\n    state: s = {\n      isVisible: !1,\n      isEnabled: !1,\n      text: \"\",\n      isLoaderVisible: !1,\n      textColor: e.buttonTextColor || \"#ffffff\",\n      bgColor: e.buttonColor || \"#000000\"\n    }\n  }) => new Vt({ ...s, postEvent: t })\n);\nfunction Dt() {\n  return K({\n    contact: g({\n      userId: {\n        type: y(),\n        from: \"user_id\"\n      },\n      phoneNumber: {\n        type: p(),\n        from: \"phone_number\"\n      },\n      firstName: {\n        type: p(),\n        from: \"first_name\"\n      },\n      lastName: {\n        type: p().optional(),\n        from: \"last_name\"\n      }\n    }),\n    authDate: {\n      type: Ee(),\n      from: \"auth_date\"\n    },\n    hash: p()\n  }, \"RequestedContact\");\n}\nfunction Ve(t, e) {\n  return (s) => {\n    const [n, r] = e[s];\n    return v(n, r, t);\n  };\n}\nfunction Mt(t) {\n  return new Promise((e) => {\n    setTimeout(e, t);\n  });\n}\nclass Bt extends P {\n  constructor({ postEvent: s, createRequestId: n, version: r, botInline: i, ...o }) {\n    super(o, r, {\n      requestPhoneAccess: \"web_app_request_phone\",\n      requestWriteAccess: \"web_app_request_write_access\",\n      switchInlineQuery: \"web_app_switch_inline_query\",\n      setHeaderColor: \"web_app_set_header_color\",\n      setBackgroundColor: \"web_app_set_background_color\"\n    });\n    c(this, \"botInline\");\n    c(this, \"postEvent\");\n    c(this, \"createRequestId\");\n    c(this, \"requestPhoneAccessPromise\");\n    c(this, \"requestWriteAccessPromise\");\n    /**\n     * Checks if specified method parameter is supported by current component.\n     */\n    c(this, \"supportsParam\");\n    this.createRequestId = n, this.postEvent = s, this.botInline = i;\n    const a = this.supports.bind(this);\n    this.supports = (h) => a(h) ? h !== \"switchInlineQuery\" || i : !1, this.supportsParam = Ve(r, {\n      \"setHeaderColor.color\": [\"web_app_set_header_color\", \"color\"],\n      \"close.returnBack\": [\"web_app_close\", \"return_back\"]\n    });\n  }\n  /**\n   * Attempts to get requested contact.\n   * @param timeout - request timeout.\n   */\n  async getRequestedContact({\n    timeout: s = 1e4\n  } = {}) {\n    return Dt().parse(\n      await C(\n        \"getRequestedContact\",\n        {},\n        this.createRequestId(),\n        { postEvent: this.postEvent, timeout: s }\n      )\n    );\n  }\n  /**\n   * The Mini App background color.\n   * @example \"#ffaabb\"\n   */\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  /**\n   * Closes the Mini App.\n   * @param returnBack - should the application be wrapped into the bottom bar.\n   */\n  close(s) {\n    this.postEvent(\"web_app_close\", this.supportsParam(\"close.returnBack\") ? { return_back: s } : {});\n  }\n  /**\n   * The Mini App header color.\n   * @example \"#ffaabb\"\n   * @example \"bg_color\"\n   */\n  get headerColor() {\n    return this.get(\"headerColor\");\n  }\n  /**\n   * True if the Mini App is currently launched in bot inline mode.\n   */\n  get isBotInline() {\n    return this.botInline;\n  }\n  /**\n   * True if the current Mini App background color is recognized as dark.\n   */\n  get isDark() {\n    return ye(this.bgColor);\n  }\n  /**\n   * Informs the Telegram app that the Mini App is ready to be displayed.\n   *\n   * It is recommended to call this method as early as possible, as soon as all essential\n   * interface elements loaded. Once this method called, the loading placeholder is hidden\n   * and the Mini App shown.\n   *\n   * If the method not called, the placeholder will be hidden only when the page fully loaded.\n   */\n  ready() {\n    this.postEvent(\"web_app_ready\");\n  }\n  /**\n   * Requests current user contact information. In contrary to requestPhoneAccess, this method\n   * returns promise with contact information that rejects in case, user denied access, or request\n   * failed.\n   * @param options - additional options.\n   */\n  async requestContact({ timeout: s = 5e3 } = {}) {\n    try {\n      return await this.getRequestedContact();\n    } catch {\n    }\n    if (await this.requestPhoneAccess() !== \"sent\")\n      throw new Error(\"Access denied.\");\n    const r = Date.now() + s;\n    let i = 50;\n    return be(async () => {\n      for (; Date.now() < r; ) {\n        try {\n          return await this.getRequestedContact();\n        } catch {\n        }\n        await Mt(i), i += 50;\n      }\n      throw we(s);\n    }, s);\n  }\n  /**\n   * Requests current user phone access. Method returns promise, which resolves\n   * status of the request. In case, user accepted the request, Mini App bot will receive\n   * the according notification.\n   *\n   * To obtain the retrieved information instead, utilize the `requestContact` method.\n   * @param options - additional options.\n   * @see requestContact\n   */\n  async requestPhoneAccess(s = {}) {\n    return this.requestPhoneAccessPromise || (this.requestPhoneAccessPromise = d({\n      ...s,\n      method: \"web_app_request_phone\",\n      event: \"phone_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: n }) => n).finally(() => this.requestPhoneAccessPromise = void 0)), this.requestPhoneAccessPromise;\n  }\n  /**\n   * Requests write message access to current user.\n   * @param options - additional options.\n   */\n  async requestWriteAccess(s = {}) {\n    return this.requestWriteAccessPromise || (this.requestWriteAccessPromise = d({\n      ...s,\n      method: \"web_app_request_write_access\",\n      event: \"write_access_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: n }) => n).finally(() => this.requestWriteAccessPromise = void 0)), this.requestWriteAccessPromise;\n  }\n  /**\n   * A method used to send data to the bot. When this method called, a service message sent to\n   * the bot containing the data of the length up to 4096 bytes, and the Mini App closed. See the\n   * field `web_app_data` in the class [Message](https://core.telegram.org/bots/api#message).\n   *\n   * This method is only available for Mini Apps launched via a Keyboard button.\n   * @param data - data to send to bot.\n   * @throws {Error} data has incorrect size.\n   */\n  sendData(s) {\n    const { size: n } = new Blob([s]);\n    if (!n || n > 4096)\n      throw new Error(`Passed data has incorrect size: ${n}`);\n    this.postEvent(\"web_app_data_send\", { data: s });\n  }\n  /**\n   * Updates current Mini App header color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/8\n   * @param color - color key or RGB color.\n   */\n  setHeaderColor(s) {\n    this.postEvent(\"web_app_set_header_color\", Q(s) ? { color: s } : { color_key: s }), this.set(\"headerColor\", s);\n  }\n  /**\n   * Updates current Mini App background color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/8\n   * @param color - RGB color.\n   */\n  setBgColor(s) {\n    this.postEvent(\"web_app_set_background_color\", { color: s }), this.set(\"bgColor\", s);\n  }\n  /**\n   * Inserts the bot's username and the specified inline query in the current chat's input field.\n   * Query may be empty, in which case only the bot's username will be inserted. The client prompts\n   * the user to choose a specific chat, then opens that chat and inserts the bot's username and\n   * the specified inline query in the input field.\n   * @param text - text which should be inserted in the input after the current bot name. Max\n   * length is 256 symbols.\n   * @param chatTypes - List of chat types which could be chosen to send the message. Could be\n   * empty list.\n   */\n  switchInlineQuery(s, n = []) {\n    if (!this.supports(\"switchInlineQuery\") && !this.isBotInline)\n      throw new Error(\"Method is unsupported because Mini App should be launched in inline mode.\");\n    this.postEvent(\"web_app_switch_inline_query\", { query: s, chat_types: n });\n  }\n}\nconst ls = l(\n  \"miniApp\",\n  ({\n    themeParams: t,\n    botInline: e = !1,\n    state: s = {\n      bgColor: t.bgColor || \"#ffffff\",\n      headerColor: t.headerBgColor || \"#000000\"\n    },\n    ...n\n  }) => new Bt({ ...n, ...s, botInline: e })\n);\nfunction Lt(t) {\n  const e = t.message.trim(), s = (t.title || \"\").trim(), n = t.buttons || [];\n  let r;\n  if (s.length > 64)\n    throw new Error(`Title has incorrect size: ${s.length}`);\n  if (!e.length || e.length > 256)\n    throw new Error(`Message has incorrect size: ${e.length}`);\n  if (n.length > 3)\n    throw new Error(`Buttons have incorrect size: ${n.length}`);\n  return n.length ? r = n.map((i) => {\n    const { id: o = \"\" } = i;\n    if (o.length > 64)\n      throw new Error(`Button ID has incorrect size: ${o}`);\n    if (!i.type || i.type === \"default\" || i.type === \"destructive\") {\n      const a = i.text.trim();\n      if (!a.length || a.length > 64) {\n        const h = i.type || \"default\";\n        throw new Error(`Button text with type \"${h}\" has incorrect size: ${i.text.length}`);\n      }\n      return { ...i, text: a, id: o };\n    }\n    return { ...i, id: o };\n  }) : r = [{ type: \"close\", id: \"\" }], { title: s, message: e, buttons: r };\n}\nclass $t extends P {\n  constructor(e, s, n) {\n    super({ isOpened: e }, s, { open: \"web_app_open_popup\" }), this.postEvent = n;\n  }\n  set isOpened(e) {\n    this.set(\"isOpened\", e);\n  }\n  /**\n   * True if the Popup is opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  /**\n   * A method that shows a native popup described by the `params` argument.\n   * Promise will be resolved when popup is closed. Resolved value will have\n   * an identifier of pressed button.\n   *\n   * In case, user clicked outside the popup or clicked top right popup close\n   * button, null will be returned.\n   *\n   * @param options - popup parameters.\n   * @throws {Error} Popup is already opened.\n   */\n  async open(e) {\n    if (this.isOpened)\n      throw new Error(\"Popup is already opened.\");\n    this.isOpened = !0;\n    try {\n      const { button_id: s = null } = await d({\n        event: \"popup_closed\",\n        method: \"web_app_open_popup\",\n        postEvent: this.postEvent,\n        params: Lt(e)\n      });\n      return s;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst ds = l(\n  ({ postEvent: t, version: e }) => new $t(!1, e, t)\n);\nclass Wt extends P {\n  constructor(e, s, n) {\n    super({ isOpened: e }, s, {\n      close: \"web_app_close_scan_qr_popup\",\n      open: \"web_app_open_scan_qr_popup\"\n    }), this.postEvent = n;\n  }\n  /**\n   * Closes the scanner.\n   */\n  close() {\n    this.postEvent(\"web_app_close_scan_qr_popup\"), this.isOpened = !1;\n  }\n  set isOpened(e) {\n    this.set(\"isOpened\", e);\n  }\n  /**\n   * Returns true if the scanner is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  async open(e) {\n    if (this.isOpened)\n      throw new Error(\"The scanner is already opened\");\n    const { text: s, capture: n } = (typeof e == \"string\" ? { text: e } : e) || {};\n    this.isOpened = !0;\n    try {\n      const i = (await d({\n        method: \"web_app_open_scan_qr_popup\",\n        event: [\"qr_text_received\", \"scan_qr_popup_closed\"],\n        postEvent: this.postEvent,\n        params: { text: s },\n        capture(o) {\n          return o.event === \"scan_qr_popup_closed\" || !n || n(o.payload);\n        }\n      }) || {}).data || null;\n      return i && this.close(), i;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n  // TODO: Streaming mode, allowing to scan several QRs until closed.\n}\nconst _s = l(\n  ({ version: t, postEvent: e }) => new Wt(!1, t, e)\n);\nclass Ut extends Z {\n  constructor(s, n, r) {\n    super({ isVisible: s }, n, {\n      show: \"web_app_setup_settings_button\",\n      hide: \"web_app_setup_settings_button\"\n    });\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? w(\"settings_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"settings_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = r;\n  }\n  set isVisible(s) {\n    this.set(\"isVisible\", s), this.postEvent(\"web_app_setup_settings_button\", { is_visible: s });\n  }\n  /**\n   * True if the SettingsButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the SettingsButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the SettingsButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nconst fs = l(\n  \"settingsButton\",\n  ({\n    version: t,\n    postEvent: e,\n    state: s = { isVisible: !1 }\n  }) => new Ut(s.isVisible, t, e)\n);\nclass Ht extends P {\n  constructor(e, s, n) {\n    super({ isVerticalSwipeEnabled: e }, s, {\n      disableVerticalSwipe: \"web_app_setup_swipe_behavior\",\n      enableVerticalSwipe: \"web_app_setup_swipe_behavior\"\n    }), this.postEvent = n;\n  }\n  set isVerticalSwipeEnabled(e) {\n    this.set(\"isVerticalSwipeEnabled\", e), this.postEvent(\"web_app_setup_swipe_behavior\", { allow_vertical_swipe: e });\n  }\n  /**\n   * True, if the vertical swipe enabled.\n   */\n  get isVerticalSwipeEnabled() {\n    return this.get(\"isVerticalSwipeEnabled\");\n  }\n  /**\n   * Disables the vertical swipe.\n   */\n  disableVerticalSwipe() {\n    this.isVerticalSwipeEnabled = !1;\n  }\n  /**\n   * Enables the vertical swipe.\n   */\n  enableVerticalSwipe() {\n    this.isVerticalSwipeEnabled = !0;\n  }\n}\nconst gs = l(\n  \"swipeBehavior\",\n  ({\n    postEvent: t,\n    state: e = { isVerticalSwipeEnabled: !0 },\n    version: s\n  }) => new Ht(e.isVerticalSwipeEnabled, s, t)\n);\nfunction De(t) {\n  return Pe().parse(t);\n}\nclass Ot extends ee {\n  /**\n   * @since v6.10\n   */\n  get accentTextColor() {\n    return this.get(\"accentTextColor\");\n  }\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  get buttonColor() {\n    return this.get(\"buttonColor\");\n  }\n  get buttonTextColor() {\n    return this.get(\"buttonTextColor\");\n  }\n  get destructiveTextColor() {\n    return this.get(\"destructiveTextColor\");\n  }\n  /**\n   * Returns the copy of the internal state of the current component instance.\n   */\n  getState() {\n    return this.clone();\n  }\n  /**\n   * @since v6.10\n   */\n  get headerBgColor() {\n    return this.get(\"headerBgColor\");\n  }\n  get hintColor() {\n    return this.get(\"hintColor\");\n  }\n  /**\n   * @returns True in case, current color scheme is recognized as dark. This\n   * value is calculated according to theme bg color.\n   */\n  get isDark() {\n    return !this.bgColor || ye(this.bgColor);\n  }\n  get linkColor() {\n    return this.get(\"linkColor\");\n  }\n  get secondaryBgColor() {\n    return this.get(\"secondaryBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionBgColor() {\n    return this.get(\"sectionBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionHeaderTextColor() {\n    return this.get(\"sectionHeaderTextColor\");\n  }\n  /**\n   * @since v7.6\n   */\n  get sectionSeparatorColor() {\n    return this.get(\"sectionHeaderTextColor\");\n  }\n  /**\n   * Starts listening to the external theme changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return w(\"theme_changed\", (e) => {\n      this.set(De(e.theme_params));\n    });\n  }\n  /**\n   * @since v6.10\n   */\n  get subtitleTextColor() {\n    return this.get(\"subtitleTextColor\");\n  }\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n}\nconst ws = l(\n  \"themeParams\",\n  ({ themeParams: t, state: e = t, addCleanup: s }) => {\n    const n = new Ot(e);\n    return s(n.listen()), n;\n  }\n);\nfunction bs(t = {}) {\n  return d({\n    ...t,\n    method: \"web_app_request_theme\",\n    event: \"theme_changed\"\n  }).then(De);\n}\nfunction I(t, e) {\n  return t.startsWith(e) ? t : `${e}${t}`;\n}\nfunction q(t) {\n  return new URL(\n    typeof t == \"string\" ? t : `${t.pathname || \"\"}${I(t.search || \"\", \"?\")}${I(t.hash || \"\", \"#\")}`,\n    \"http://a\"\n  );\n}\nclass Gt extends te {\n  constructor(s, n, r) {\n    super(s, { readTextFromClipboard: \"web_app_read_text_from_clipboard\" });\n    /**\n     * Checks if specified method parameter is supported by current component.\n     */\n    c(this, \"supportsParam\");\n    this.version = s, this.createRequestId = n, this.postEvent = r, this.supportsParam = Ve(s, {\n      \"openLink.tryInstantView\": [\"web_app_open_link\", \"try_instant_view\"]\n    });\n  }\n  openLink(s, n) {\n    const r = q(s).toString();\n    if (!v(\"web_app_open_link\", this.version)) {\n      window.open(r, \"_blank\");\n      return;\n    }\n    const i = typeof n == \"boolean\" ? { tryInstantView: n } : n || {};\n    this.postEvent(\"web_app_open_link\", {\n      url: r,\n      try_browser: i.tryBrowser,\n      try_instant_view: i.tryInstantView\n    });\n  }\n  /**\n   * Opens a Telegram link inside Telegram app. The Mini App will be closed. It expects passing\n   * link in full format, with hostname \"t.me\".\n   * @param url - URL to be opened.\n   * @throws {Error} URL has not allowed hostname.\n   */\n  openTelegramLink(s) {\n    const { hostname: n, pathname: r, search: i } = new URL(s, \"https://t.me\");\n    if (n !== \"t.me\")\n      throw new Error(`URL has not allowed hostname: ${n}. Only \"t.me\" is allowed`);\n    if (!v(\"web_app_open_tg_link\", this.version)) {\n      window.location.href = s;\n      return;\n    }\n    this.postEvent(\"web_app_open_tg_link\", { path_full: r + i });\n  }\n  /**\n   * Reads text from clipboard and returns string or null. null is returned\n   * in cases:\n   * - Value in clipboard is not text\n   * - Access to clipboard is not allowed\n   */\n  async readTextFromClipboard() {\n    const s = this.createRequestId(), {\n      data: n = null\n    } = await d({\n      method: \"web_app_read_text_from_clipboard\",\n      event: \"clipboard_text_received\",\n      postEvent: this.postEvent,\n      params: { req_id: s },\n      capture: ge(s)\n    });\n    return n;\n  }\n  /**\n   * Shares specified URL with the passed to the chats, selected by user. After being called,\n   * it closes the mini application.\n   *\n   * This method uses Telegram's Share Links.\n   * @param url - URL to share.\n   * @param text - text to append after the URL.\n   * @see https://core.telegram.org/api/links#share-links\n   * @see https://core.telegram.org/widgets/share#custom-buttons\n   */\n  shareURL(s, n) {\n    this.openTelegramLink(\n      \"https://t.me/share/url?\" + new URLSearchParams({ url: s, text: n || \"\" }).toString().replace(/\\+/g, \"%20\")\n    );\n  }\n}\nconst ms = l(\n  ({ version: t, postEvent: e, createRequestId: s }) => new Gt(t, s, e)\n);\nasync function Me(t = {}) {\n  const {\n    is_expanded: e,\n    is_state_stable: s,\n    ...n\n  } = await d({\n    ...t,\n    method: \"web_app_request_viewport\",\n    event: \"viewport_changed\"\n  });\n  return { ...n, isExpanded: e, isStateStable: s };\n}\nfunction x(t) {\n  return t < 0 ? 0 : t;\n}\nclass zt extends ee {\n  constructor({ postEvent: s, stableHeight: n, height: r, width: i, isExpanded: o }) {\n    super({\n      height: x(r),\n      isExpanded: o,\n      stableHeight: x(n),\n      width: x(i)\n    });\n    c(this, \"postEvent\");\n    this.postEvent = s;\n  }\n  /**\n   * Requests viewport information from the Telegram application and updates current Viewport\n   * instance.\n   * @param options - options to request fresh data.\n   */\n  async sync(s) {\n    const { isStateStable: n, ...r } = await Me(s);\n    this.set({\n      ...r,\n      stableHeight: n ? r.height : this.get(\"stableHeight\")\n    });\n  }\n  /**\n   * The current height of the **visible area** of the Mini App.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the bot can do the same by calling `expand` method. As the position of\n   * the Mini App changes, the current height value of the visible area will be updated  in real\n   * time.\n   *\n   * Please note that the refresh rate of this value is not sufficient to smoothly follow the\n   * lower border of the window. It should not be used to pin interface elements to the bottom\n   * of the visible area. It's more appropriate to use the value of the `stableHeight`\n   * field for this purpose.\n   *\n   * @see stableHeight\n   */\n  get height() {\n    return this.get(\"height\");\n  }\n  /**\n   * The height of the visible area of the Mini App in its last stable state.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the application can do the same by calling `expand` method.\n   *\n   * Unlike the value of `height`, the value of `stableHeight` does not change as the position\n   * of the Mini App changes with user gestures or during animations. The value of `stableHeight`\n   * will be updated after all gestures and animations are completed and\n   * the Mini App reaches its final size.\n   *\n   * @see height\n   */\n  get stableHeight() {\n    return this.get(\"stableHeight\");\n  }\n  /**\n   * Starts listening to viewport changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return w(\"viewport_changed\", (s) => {\n      const {\n        height: n,\n        width: r,\n        is_expanded: i,\n        is_state_stable: o\n      } = s, a = x(n);\n      this.set({\n        height: a,\n        isExpanded: i,\n        width: x(r),\n        ...o ? { stableHeight: a } : {}\n      });\n    });\n  }\n  /**\n   * True if the Mini App is expanded to the maximum available height. Otherwise, if\n   * the Mini App occupies part of the screen and can be expanded to the full height using\n   * `expand` method.\n   * @see expand\n   */\n  get isExpanded() {\n    return this.get(\"isExpanded\");\n  }\n  /**\n   * Current visible area width.\n   */\n  get width() {\n    return this.get(\"width\");\n  }\n  /**\n   * A method that expands the Mini App to the maximum available height. To find out if the Mini\n   * App is expanded to the maximum height, refer to the value of the `isExpanded`.\n   * @see isExpanded\n   */\n  expand() {\n    this.postEvent(\"web_app_expand\"), this.set(\"isExpanded\", !0);\n  }\n  /**\n   * True if the current viewport height is stable and is not going to change in the next moment.\n   */\n  get isStable() {\n    return this.stableHeight === this.height;\n  }\n}\nconst ys = l(\n  \"viewport\",\n  async ({ state: t, platform: e, postEvent: s, addCleanup: n }) => {\n    let r = !1, i = 0, o = 0, a = 0;\n    if (t)\n      r = t.isExpanded, i = t.height, o = t.width, a = t.stableHeight;\n    else if ([\"macos\", \"tdesktop\", \"unigram\", \"webk\", \"weba\", \"web\"].includes(e))\n      r = !0, i = window.innerHeight, o = window.innerWidth, a = window.innerHeight;\n    else {\n      const u = await Me({ timeout: 1e3, postEvent: s });\n      r = u.isExpanded, i = u.height, o = u.width, a = u.isStateStable ? i : 0;\n    }\n    const h = new zt({\n      postEvent: s,\n      height: i,\n      width: o,\n      stableHeight: a,\n      isExpanded: r\n    });\n    return n(h.listen()), h;\n  }\n);\nfunction m(t, e) {\n  document.documentElement.style.setProperty(t, e);\n}\nfunction vs(t, e, s) {\n  s || (s = (a) => `--tg-${a}-color`);\n  const n = s(\"header\"), r = s(\"bg\"), i = () => {\n    const { headerColor: a } = t;\n    if (Q(a))\n      m(n, a);\n    else {\n      const { bgColor: h, secondaryBgColor: u } = e;\n      a === \"bg_color\" && h ? m(n, h) : a === \"secondary_bg_color\" && u && m(n, u);\n    }\n    m(r, t.bgColor);\n  }, o = [\n    e.on(\"change\", i),\n    t.on(\"change\", i)\n  ];\n  return i(), () => o.forEach((a) => a());\n}\nfunction Es(t, e) {\n  e || (e = (n) => `--tg-theme-${n.replace(/[A-Z]/g, (r) => `-${r.toLowerCase()}`)}`);\n  const s = () => {\n    Object.entries(t.getState()).forEach(([n, r]) => {\n      r && m(e(n), r);\n    });\n  };\n  return s(), t.on(\"change\", s);\n}\nfunction Ss(t, e) {\n  e || (e = (u) => `--tg-viewport-${u}`);\n  const [\n    s,\n    n,\n    r\n  ] = [\"height\", \"width\", \"stable-height\"].map((u) => e(u)), i = () => m(s, `${t.height}px`), o = () => m(n, `${t.width}px`), a = () => m(r, `${t.stableHeight}px`), h = [\n    t.on(\"change:height\", i),\n    t.on(\"change:width\", o),\n    t.on(\"change:stableHeight\", a)\n  ];\n  return i(), o(), a(), () => h.forEach((u) => u());\n}\nfunction Ps(t = !0) {\n  const e = [\n    w(\"reload_iframe\", () => {\n      A(\"iframe_will_reload\"), window.location.reload();\n    })\n  ], s = () => e.forEach((n) => n());\n  if (t) {\n    const n = document.createElement(\"style\");\n    n.id = \"telegram-custom-styles\", document.head.appendChild(n), e.push(\n      w(\"set_custom_style\", (r) => {\n        n.innerHTML = r;\n      }),\n      () => document.head.removeChild(n)\n    );\n  }\n  return A(\"iframe_ready\", { reload_supported: !0 }), s;\n}\nfunction xs() {\n  return typeof window > \"u\";\n}\nasync function Cs() {\n  if (de(window))\n    return !0;\n  try {\n    return await d({ method: \"web_app_request_theme\", event: \"theme_changed\", timeout: 100 }), !0;\n  } catch {\n    return !1;\n  }\n}\nfunction Ts(t) {\n  const e = typeof t == \"string\" ? X(t) : t;\n  qe(e);\n  function s(r) {\n    if (typeof r == \"string\")\n      try {\n        const { eventType: i } = ue(r);\n        i === \"web_app_request_theme\" && z(\"theme_changed\", {\n          theme_params: JSON.parse(Ie(e.themeParams))\n        }), i === \"web_app_request_viewport\" && z(\"viewport_changed\", {\n          width: window.innerWidth,\n          height: window.innerHeight,\n          is_state_stable: !0,\n          is_expanded: !0\n        });\n      } catch {\n      }\n  }\n  if (_e()) {\n    const r = window.parent.postMessage.bind(window.parent);\n    window.parent.postMessage = (i) => {\n      s(i), r(i);\n    };\n    return;\n  }\n  if (le(window)) {\n    const r = window.external.notify.bind(window.external);\n    window.external.notify = (i) => {\n      s(i), r(i);\n    };\n    return;\n  }\n  const n = window.TelegramWebviewProxy;\n  window.TelegramWebviewProxy = {\n    ...n || {},\n    postEvent(...r) {\n      s(JSON.stringify({ eventType: r[0], eventData: r[1] })), n && n.postEvent(...r);\n    }\n  };\n}\nfunction jt(t) {\n  return t instanceof V;\n}\nfunction Rs(t, e) {\n  return jt(t) && t.type === e;\n}\nfunction L(t, e) {\n  let s, n, r;\n  return typeof t == \"string\" ? s = t : (s = t.pathname === void 0 ? e : t.pathname, n = t.params, r = t.id), Object.freeze({\n    id: r || (Math.random() * 2 ** 14 | 0).toString(16),\n    pathname: s,\n    params: n\n  });\n}\nclass Ft {\n  constructor(e, s, n = A) {\n    /**\n     * Navigation history.\n     */\n    c(this, \"history\");\n    c(this, \"ee\", new R());\n    /**\n     * True, if current navigator is currently attached.\n     */\n    c(this, \"attached\", !1);\n    /**\n     * Goes to the previous history item.\n     */\n    c(this, \"back\", () => this.go(-1));\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    if (this._index = s, this.postEvent = n, e.length === 0)\n      throw f(Ze, \"History should not be empty.\");\n    if (s < 0 || s >= e.length)\n      throw f(\n        Ke,\n        \"Index should not be zero and higher or equal than history size.\"\n      );\n    this.history = e.map((r) => L(r, \"\"));\n  }\n  /**\n   * Allows this navigator to control the `BackButton` visibility state. It also tracks the\n   * `BackButton` clicks and calls the `back` method.\n   */\n  attach() {\n    this.attached || (this.attached = !0, this.sync(), w(\"back_button_pressed\", this.back));\n  }\n  /**\n   * Currently active history item.\n   */\n  get current() {\n    return this.history[this.index];\n  }\n  /**\n   * Prevents current navigator from controlling the BackButton visibility state.\n   */\n  detach() {\n    this.attached = !1, B(\"back_button_pressed\", this.back);\n  }\n  /**\n   * Goes to the next history item.\n   */\n  forward() {\n    this.go(1);\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(e, s) {\n    const n = this.index + e, r = Math.min(\n      Math.max(0, n),\n      this.history.length - 1\n    );\n    (n === r || s) && this.replaceAndMove(r, this.history[r]);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(e, s) {\n    this.go(e - this.index, s);\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.index > 0;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.index !== this.history.length - 1;\n  }\n  /**\n   * Currently active history item index.\n   */\n  get index() {\n    return this._index;\n  }\n  /**\n   * Adds a new history item removing all after the current one.\n   * @param item - item to add.\n   */\n  push(e) {\n    this.hasNext && this.history.splice(this.index + 1), this.replaceAndMove(this.index + 1, L(e, this.current.pathname));\n  }\n  /**\n   * Replaces the current history item.\n   * @param item - item to replace the current item with.\n   */\n  replace(e) {\n    this.replaceAndMove(this.index, L(e, this.current.pathname));\n  }\n  /**\n   * Sets history item by the specified index.\n   * @param index - history item index to replace.\n   * @param historyItem - history item to set.\n   */\n  replaceAndMove(e, s) {\n    const n = e - this.index;\n    if (!n && this.current === s)\n      return;\n    const r = this.current;\n    if (this.index !== e) {\n      const i = this._index;\n      this._index = e, this.attached && i > 0 != e > 0 && this.sync();\n    }\n    this.history[e] = s, this.ee.emit(\"change\", {\n      navigator: this,\n      from: r,\n      to: this.current,\n      delta: n\n    });\n  }\n  /**\n   * Actualizes the `BackButton` visibility state.\n   */\n  sync() {\n    this.postEvent(\"web_app_setup_back_button\", { is_visible: !!this.index });\n  }\n}\nfunction $({\n  params: t,\n  ...e\n}) {\n  return { ...t || { hash: \"\", search: \"\" }, ...e };\n}\nfunction N(t) {\n  const e = typeof t == \"string\" ? t.startsWith(\"/\") : !!(t.pathname && t.pathname.startsWith(\"/\")), s = q(t);\n  return `${e ? s.pathname : s.pathname.slice(1)}${s.search}${s.hash}`;\n}\nfunction W(t, e, s) {\n  let n, r;\n  typeof t == \"string\" ? n = t : (n = N(t), s = t.state, r = t.id);\n  const { pathname: i, search: o, hash: a } = new URL(n, `http://a${I(e, \"/\")}`);\n  return { id: r, pathname: i, params: { hash: a, search: o, state: s } };\n}\nasync function T(t) {\n  return t === 0 ? !0 : Promise.race([\n    new Promise((e) => {\n      const s = G(\"popstate\", () => {\n        s(), e(!0);\n      });\n      window.history.go(t);\n    }),\n    // Usually, it takes about 1ms to emit this event, but we use some buffer.\n    new Promise((e) => {\n      setTimeout(e, 50, !1);\n    })\n  ]);\n}\nasync function Jt() {\n  if (window.history.length <= 1 || (window.history.pushState(null, \"\"), await T(1 - window.history.length)))\n    return;\n  let e = await T(-1);\n  for (; e; )\n    e = await T(-1);\n}\nfunction Be(t) {\n  return q(t).pathname;\n}\nconst ie = 0, U = 1, H = 2;\nclass Le {\n  constructor(e, s, { postEvent: n, hashMode: r = \"classic\", base: i } = {}) {\n    c(this, \"navigator\");\n    c(this, \"ee\", new R());\n    c(this, \"hashMode\");\n    c(this, \"base\");\n    /**\n     * Shows whether the navigator is currently attached to the browser history.\n     */\n    c(this, \"attached\", !1);\n    /**\n     * Handles the window \"popstate\" event.\n     * @param state - event state.\n     */\n    c(this, \"onPopState\", ({ state: e }) => {\n      if (e === null)\n        return this.push(this.parsePath(window.location.href));\n      e === ie ? window.history.forward() : e === U && this.back(), e === H && this.forward();\n    });\n    /**\n     * Underlying navigator change event listener.\n     */\n    c(this, \"onNavigatorChange\", async ({\n      to: e,\n      from: s,\n      delta: n\n    }) => {\n      this.attached && await this.syncHistory(), this.ee.emit(\"change\", {\n        delta: n,\n        from: $(s),\n        to: $(e),\n        navigator: this\n      });\n    });\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    this.navigator = new Ft(\n      e.map((o) => W(o, \"/\")),\n      s,\n      n\n    ), this.navigator.on(\"change\", (o) => {\n      this.onNavigatorChange(o);\n    }), this.hashMode = r, this.base = Be(i || \"\");\n  }\n  /**\n   * Attaches current navigator to the browser history allowing navigator to manipulate it.\n   */\n  async attach() {\n    this.attached || (this.attached = !0, this.navigator.attach(), window.addEventListener(\"popstate\", this.onPopState), await this.syncHistory());\n  }\n  /**\n   * Goes back in history by 1.\n   */\n  back() {\n    this.navigator.back();\n  }\n  /**\n   * Detaches current navigator from the browser history.\n   */\n  detach() {\n    this.attached = !1, this.navigator.detach(), window.removeEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Goes forward in history.\n   */\n  forward() {\n    return this.navigator.forward();\n  }\n  /**\n   * Current history cursor.\n   */\n  get index() {\n    return this.navigator.index;\n  }\n  /**\n   * Current history item identifier.\n   */\n  get id() {\n    return this.navigator.current.id;\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(e, s) {\n    return this.navigator.go(e, s);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(e, s) {\n    this.navigator.goTo(e, s);\n  }\n  /**\n   * Current history item hash.\n   * @see URL.hash\n   * @example\n   * \"\", \"#my-hash\"\n   */\n  get hash() {\n    return (this.navigator.current.params || {}).hash || \"\";\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.navigator.hasPrev;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.navigator.hasNext;\n  }\n  /**\n   * Navigation history.\n   */\n  get history() {\n    return this.navigator.history.map($);\n  }\n  /**\n   * Path, including pathname, search and hash.\n   * @example Pathname only.\n   * \"/pathname\"\n   * @example Pathname + search.\n   * \"/pathname?search\"\n   * @example Pathname + hash.\n   * \"/pathname#hash\"\n   * @example Pathname + search + hash.\n   * \"/pathname?search#hash\"\n   */\n  get path() {\n    return N(this);\n  }\n  /**\n   * Current pathname. Always starts with the slash.\n   * @see URL.pathname\n   * @example\n   * \"/\", \"/abc\"\n   */\n  get pathname() {\n    return this.navigator.current.pathname;\n  }\n  /**\n   * Depending on the current navigation type, parses incoming path and returns it presented as\n   * an object. In other words, this method parses the passed path and returns object, describing\n   * how the navigator \"sees\" it.\n   *\n   * @example Hash mode is omitted.\n   * parsePath('/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   * parsePath('http://example.com/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   *\n   * @example Hash mode is enabled.\n   * parsePath('/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   * parsePath('http://example.com/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   */\n  parsePath(e) {\n    let s = q(e);\n    return this.hashMode && (s = q(s.hash.slice(1))), {\n      pathname: s.pathname,\n      search: s.search,\n      hash: s.hash\n    };\n  }\n  push(e, s) {\n    const n = W(e, this.path), { state: r = s } = n.params;\n    this.navigator.push({ ...n, params: { ...n.params, state: r } });\n  }\n  replace(e, s) {\n    const n = W(e, this.path), { state: r = s } = n.params;\n    this.navigator.replace({ ...n, params: { ...n.params, state: r } });\n  }\n  /**\n   * Combines the navigator `base` property with the passed path data applying the navigator\n   * navigation mode.\n   * @param value - path presented as string or URLLike.\n   */\n  renderPath(e) {\n    const s = (this.base.length === 1 ? \"\" : this.base) + I(N(e), \"/\");\n    return this.hashMode ? I(s.slice(1), this.hashMode === \"classic\" ? \"#\" : \"#/\") : s;\n  }\n  /**\n   * Synchronizes current navigator state with browser history.\n   */\n  async syncHistory() {\n    window.removeEventListener(\"popstate\", this.onPopState);\n    const { state: e } = this, s = this.renderPath(this);\n    await Jt(), this.hasPrev && this.hasNext ? (window.history.replaceState(U, \"\"), window.history.pushState(e, \"\", s), window.history.pushState(H, \"\"), await T(-1)) : this.hasPrev ? (window.history.replaceState(U, \"\"), window.history.pushState(e, \"\", s)) : this.hasNext ? (window.history.replaceState(e, s), window.history.pushState(H, \"\"), await T(-1)) : (window.history.replaceState(ie, \"\"), window.history.pushState(e, \"\", s)), window.addEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Current query parameters.\n   * @see URL.search\n   * @example\n   * \"\", \"?\", \"?a=1\"\n   */\n  get search() {\n    return (this.navigator.current.params || {}).search || \"\";\n  }\n  /**\n   * Current history item state.\n   */\n  get state() {\n    return (this.navigator.current.params || {}).state;\n  }\n}\nfunction Qt(t) {\n  t || (t = {});\n  const { href: e, hash: s } = window.location;\n  let n = N(\n    t.hashMode === null ? e : s.includes(\"?\") ? s.slice(1) : `?${s.slice(1)}`\n  );\n  const r = t.base ? Be(t.base) : void 0;\n  if (r) {\n    if (!n.startsWith(r))\n      throw f(\n        Xe,\n        `Path \"${n}\" expected to be starting with \"${r}\"`\n      );\n    n = n.slice(r.length);\n  }\n  return new Le([n], 0, t);\n}\nfunction As(t) {\n  const e = t.match(/#(.+)/);\n  return e ? e[1] : null;\n}\nfunction Yt(t, e) {\n  if (ke()) {\n    const s = sessionStorage.getItem(t);\n    if (s)\n      try {\n        const { index: n, history: r } = JSON.parse(s);\n        return new Le(\n          r,\n          n,\n          e\n        );\n      } catch (n) {\n        console.error(\"Unable to restore hash navigator state.\", n);\n      }\n  }\n  return Qt(e);\n}\nfunction Is(t, e) {\n  const s = Yt(t, e), n = () => sessionStorage.setItem(t, JSON.stringify({\n    index: s.index,\n    history: s.history\n  }));\n  return s.on(\"change\", n), n(), s;\n}\nexport {\n  lt as BackButton,\n  Ft as BasicNavigator,\n  Pt as BiometryManager,\n  Le as BrowserNavigator,\n  Ct as ClosingBehavior,\n  It as CloudStorage,\n  Xe as ERR_INVALID_PATH_BASE,\n  Je as ERR_INVOKE_CUSTOM_METHOD_RESPONSE,\n  je as ERR_METHOD_PARAMETER_UNSUPPORTED,\n  ze as ERR_METHOD_UNSUPPORTED,\n  Ze as ERR_NAVIGATION_HISTORY_EMPTY,\n  Ke as ERR_NAVIGATION_INDEX_INVALID,\n  Xt as ERR_NAVIGATION_ITEM_INVALID,\n  ce as ERR_PARSE,\n  es as ERR_SSR_INIT,\n  Qe as ERR_TIMED_OUT,\n  Ye as ERR_UNEXPECTED_TYPE,\n  Fe as ERR_UNKNOWN_ENV,\n  R as EventEmitter,\n  qt as HapticFeedback,\n  kt as InitData,\n  Nt as Invoice,\n  Vt as MainButton,\n  Bt as MiniApp,\n  $t as Popup,\n  Wt as QRScanner,\n  V as SDKError,\n  Ut as SettingsButton,\n  Ht as SwipeBehavior,\n  Ot as ThemeParams,\n  Gt as Utils,\n  zt as Viewport,\n  At as array,\n  vs as bindMiniAppCSSVars,\n  Es as bindThemeParamsCSSVars,\n  Ss as bindViewportCSSVars,\n  b as boolean,\n  ge as captureSameReq,\n  j as classNames,\n  ot as compareVersions,\n  Qt as createBrowserNavigatorFromLocation,\n  ht as createPostEvent,\n  q as createSafeURL,\n  Ee as date,\n  As as getHash,\n  Be as getPathname,\n  ns as initBackButton,\n  rs as initBiometryManager,\n  is as initClosingBehavior,\n  os as initCloudStorage,\n  as as initHapticFeedback,\n  cs as initInitData,\n  ps as initInvoice,\n  us as initMainButton,\n  ls as initMiniApp,\n  Is as initNavigator,\n  ds as initPopup,\n  _s as initQRScanner,\n  fs as initSettingsButton,\n  gs as initSwipeBehavior,\n  ws as initThemeParams,\n  ms as initUtils,\n  ys as initViewport,\n  Ps as initWeb,\n  C as invokeCustomMethod,\n  ye as isColorDark,\n  _e as isIframe,\n  ke as isPageReload,\n  Q as isRGB,\n  pt as isRGBShort,\n  jt as isSDKError,\n  Rs as isSDKErrorOfType,\n  xs as isSSR,\n  Cs as isTMA,\n  g as json,\n  ss as mergeClassNames,\n  Ts as mockTelegramEnv,\n  y as number,\n  B as off,\n  w as on,\n  hs as parseInitData,\n  X as parseLaunchParams,\n  De as parseThemeParams,\n  A as postEvent,\n  d as request,\n  xt as requestBiometryInfo,\n  bs as requestThemeParams,\n  Me as requestViewport,\n  vt as retrieveLaunchParams,\n  _t as rgb,\n  K as searchParams,\n  yt as serializeLaunchParams,\n  Ie as serializeThemeParams,\n  m as setCSSVar,\n  Kt as setDebug,\n  ts as setTargetOrigin,\n  p as string,\n  He as subscribe,\n  v as supports,\n  ct as targetOrigin,\n  me as toRGB,\n  ae as unsubscribe,\n  N as urlToPath,\n  be as withTimeout\n};\n//# sourceMappingURL=index.js.map\n","import type { ComponentType } from 'react';\n\nimport type { Hook, HookRaw, HookResult } from './createHooks.js';\n\nexport interface HOC<H extends HookRaw<any> | HookResult<any>> {\n  /**\n   * Returns a component which is a HOC, passing some hook result to the wrapped component.\n   * @param propKey - key, which will be used to pass a hook result.\n   * @param ssr - is SSR mode enabled.\n   * @param Component - component to wrap.\n   */<\n    PropKey extends string,\n    SSR extends boolean,\n    Props,\n  >(\n    propKey: PropKey,\n    ssr: SSR,\n    Component: ComponentType<Omit<Props, PropKey> & {\n      [K in PropKey]: ReturnType<Hook<Exclude<ReturnType<H>, undefined>, SSR>>\n    }>,\n  ): ComponentType<Omit<Props, PropKey>>;\n}\n\nexport type HOCs<HRaw extends HookRaw<any>, HResult extends HookResult<any>> = [\n  HOC<HRaw>,\n  HOC<HResult>\n];\n\n/**\n * Based on the passed hook, creates function returning HOC. Created HOC passes hook result\n * to the wrapped component.\n * @param useRaw - hook, returning a raw SDK item.\n * @param useResult - hook, returning an SDK item with the result.\n */\nexport function createHOCs<HRaw extends HookRaw<any>, HResult extends HookResult<any>>(\n  useRaw: HRaw,\n  useResult: HResult,\n): HOCs<HRaw, HResult> {\n  function createHOC<Hook extends HookRaw<any> | HookResult<any>>(hook: Hook): HOC<Hook> {\n    return function HOC(propKey, ssr, Component) {\n      return (props) => {\n        const merged: any = {\n          ...props,\n          [propKey]: hook(ssr as any),\n        };\n\n        return <Component {...merged}/>;\n      };\n    };\n  }\n\n  return [createHOC(useRaw), createHOC(useResult)];\n}\n","import { createContext, useContext } from 'react';\n\nimport type { SDKContextType } from './SDKProvider.types.js';\n\nexport const SDKContext = createContext<SDKContextType | undefined>(undefined);\n\n/**\n * @throws Error useSDK was used outside SDKProvider.\n * @returns SDK context.\n */\nexport function useSDK(): SDKContextType {\n  const context = useContext(SDKContext);\n  if (!context) {\n    throw new Error('useSDK was used outside the SDKProvider.');\n  }\n  return context;\n}\n","import { type CleanupFn, isSSR, type AnyFn, If } from '@telegram-apps/sdk';\nimport { useEffect, useState } from 'react';\n\nimport { useSDK } from './SDKProvider/SDKContext.js';\nimport type { SDKContextItem } from './SDKProvider/SDKProvider.types.js';\n\ntype ExtractResult<T> = T extends [result: infer R, cleanup: CleanupFn]\n  ? ExtractResult<R>\n  : T extends PromiseLike<any>\n    ? Awaited<T> | undefined\n    : T;\n\ntype HookFnResult<Fn extends AnyFn> = ExtractResult<ReturnType<Fn>>;\n\ninterface CompleteHook<Result> extends Hook<Result, true>, Hook<Result, false> {\n}\n\nexport type Hook<Result, SSR extends boolean> = If<\n  SSR,\n  (ssr: true) => Result | undefined,\n  (ssr?: false) => Result\n>;\n\nexport interface HookRaw<Factory extends AnyFn>\n  extends CompleteHook<SDKContextItem<HookFnResult<Factory>>> {\n}\n\nexport interface HookResult<Factory extends AnyFn> extends CompleteHook<HookFnResult<Factory>> {\n}\n\nexport type Hooks<Factory extends AnyFn> = [\n  useRaw: HookRaw<Factory>,\n  useResult: HookResult<Factory>,\n];\n\n/**\n * @returns Hooks, simplifying work process with the SDK components.\n */\nexport function createHooks<Factory extends AnyFn>(factory: Factory): Hooks<Factory> {\n  function useRaw(ssr?: false): SDKContextItem<HookFnResult<Factory>>;\n  function useRaw(ssr: true): SDKContextItem<HookFnResult<Factory>> | undefined;\n  function useRaw(ssr?: boolean): SDKContextItem<HookFnResult<Factory>> | undefined {\n    const sdk = useSDK();\n\n    const [result, setResult] = useState(\n      ssr\n        // If SSR mode is enabled, we have no initial value. In this case we will set something\n        // only in useEffect.\n        ? undefined\n        // Otherwise, we are retrieving this factory result.\n        : () => {\n          if (isSSR()) {\n            throw new Error('Using hooks on the server side, you must explicitly specify ssr = true option');\n          }\n          return sdk.use(factory);\n        },\n    );\n\n    // Each time sdk context changes, we are updating the local value.\n    useEffect(() => {\n      setResult(sdk.use(factory));\n    }, [sdk]);\n\n    return result as SDKContextItem<HookFnResult<Factory>> | undefined;\n  }\n\n  function useResult(ssr?: false): HookFnResult<Factory>;\n  function useResult(ssr: true): HookFnResult<Factory> | undefined;\n  function useResult(ssr?: boolean): HookFnResult<Factory> | undefined {\n    const raw = useRaw(ssr as any);\n    if (!raw) {\n      return;\n    }\n    if ('error' in raw) {\n      throw raw.error;\n    }\n    return raw.result;\n  }\n\n  return [useRaw, useResult];\n}\n","import { initBackButton } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useBackButtonRaw, useBackButton] = createHooks(initBackButton);\n\nexport const [withBackButtonRaw, withBackButton] = createHOCs(\n  useBackButtonRaw,\n  useBackButton,\n);\n","import { initBiometryManager } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useBiometryManagerRaw, useBiometryManager] = createHooks(initBiometryManager);\n\nexport const [withBiometryManagerRaw, withBiometryManager] = createHOCs(\n  useBiometryManagerRaw,\n  useBiometryManager,\n);\n","import { initClosingBehavior } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useClosingBehaviorRaw, useClosingBehavior] = createHooks(initClosingBehavior);\n\nexport const [withClosingBehaviorRaw, withClosingBehavior] = createHOCs(\n  useClosingBehaviorRaw,\n  useClosingBehavior,\n);\n","import { initCloudStorage } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useCloudStorageRaw, useCloudStorage] = createHooks(initCloudStorage);\n\nexport const [withCloudStorageRaw, withCloudStorage] = createHOCs(\n  useCloudStorageRaw,\n  useCloudStorage,\n);\n","import { initHapticFeedback } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useHapticFeedbackRaw, useHapticFeedback] = createHooks(initHapticFeedback);\n\nexport const [withHapticFeedbackRaw, withHapticFeedback] = createHOCs(\n  useHapticFeedbackRaw,\n  useHapticFeedback,\n);\n","import { initInitData } from '@telegram-apps/sdk';\n\nimport { createHooks } from '../createHooks.js';\nimport { createHOCs } from '../createHOCs.js';\n\nexport const [useInitDataRaw, useInitData] = createHooks(initInitData);\n\nexport const [withInitDataRaw, withInitData] = createHOCs(useInitDataRaw, useInitData);\n","import { initInvoice } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useInvoiceRaw, useInvoice] = createHooks(initInvoice);\n\nexport const [withInvoiceRaw, withInvoice] = createHOCs(useInvoiceRaw, useInvoice);\n","import { initMainButton } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useMainButtonRaw, useMainButton] = createHooks(initMainButton);\n\nexport const [withMainButtonRaw, withMainButton] = createHOCs(useMainButtonRaw, useMainButton);\n","import { initMiniApp } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useMiniAppRaw, useMiniApp] = createHooks(initMiniApp);\n\nexport const [withMiniAppRaw, withMiniApp] = createHOCs(useMiniAppRaw, useMiniApp);\n","import { initPopup } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [usePopupRaw, usePopup] = createHooks(initPopup);\n\nexport const [withPopupRaw, withPopup] = createHOCs(usePopupRaw, usePopup);\n","import { initQRScanner } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useQRScannerRaw, useQRScanner] = createHooks(initQRScanner);\n\nexport const [withQRScannerRaw, withQRScanner] = createHOCs(useQRScannerRaw, useQRScanner);\n","import { initSettingsButton } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useSettingsButtonRaw, useSettingsButton] = createHooks(initSettingsButton);\n\nexport const [withSettingsButtonRaw, withSettingsButton] = createHOCs(\n  useSettingsButtonRaw,\n  useSettingsButton,\n);\n","import { initSwipeBehavior } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useSwipeBehaviorRaw, useSwipeBehavior] = createHooks(initSwipeBehavior);\n\nexport const [withSwipeBehaviorRaw, withSwipeBehavior] = createHOCs(\n  useSwipeBehaviorRaw,\n  useSwipeBehavior,\n);\n","import { initThemeParams } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useThemeParamsRaw, useThemeParams] = createHooks(initThemeParams);\n\nexport const [withThemeParamsRaw, withThemeParams] = createHOCs(useThemeParamsRaw, useThemeParams);\n","import { useEffect, useState } from 'react';\nimport { type LaunchParams, retrieveLaunchParams } from '@telegram-apps/sdk';\n\n/**\n * @returns Launch parameters.\n */\nexport function useLaunchParams(ssr: true): LaunchParams | undefined;\n\n/**\n * @returns Launch parameters.\n */\nexport function useLaunchParams(ssr?: false): LaunchParams;\n\nexport function useLaunchParams(ssr?: boolean): LaunchParams | undefined {\n  const [lp, setLp] = useState<LaunchParams | undefined>(() => {\n    return ssr ? undefined : retrieveLaunchParams();\n  });\n\n  useEffect(() => {\n    if (ssr) {\n      setLp(retrieveLaunchParams());\n    }\n  }, []);\n\n  return lp;\n}","import { initUtils } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useUtilsRaw, useUtils] = createHooks(initUtils);\n\nexport const [withUtilsRaw, withUtils] = createHOCs(useUtilsRaw, useUtils);\n","import { initViewport } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useViewportRaw, useViewport] = createHooks(initViewport);\n\nexport const [withViewportRaw, withViewport] = createHOCs(useViewportRaw, useViewport);\n","import { CleanupFn, initWeb, isIframe, setDebug } from '@telegram-apps/sdk';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport type { AnyFn } from '@telegram-apps/sdk';\n\nimport { SDKContext } from './SDKContext.js';\nimport {\n  SDKContextType,\n  SDKProviderProps,\n  SDKContextItem,\n} from './SDKProvider.types.js';\n\n/**\n * Provides access to the SDK components and initializes some event listeners for the web version\n * of Telegram.\n */\nexport function SDKProvider({ children, acceptCustomStyles, debug }: SDKProviderProps) {\n  // We need it to safely call state setters as long as React forbids these\n  // operations on unmounted components.\n  const isMountedRef = useRef(true);\n\n  // Map, containing all registered factories results.\n  const [cache, setCache] = useState(new Map<AnyFn, SDKContextItem<any>>());\n  const cacheRef = useRef(cache);\n\n  // Safely mutates cache with specified function.\n  const mutateCache = useCallback(\n    (mutate?: (state: Map<AnyFn, SDKContextItem<any>>) => void) => {\n      if (isMountedRef.current) {\n        setCache(c => {\n          mutate && mutate(c);\n          return new Map(c);\n        });\n      }\n    }, [],\n  );\n\n  const context = useMemo<SDKContextType>(() => ({\n    use(factory, ...args) {\n      // Try to get a cached value.\n      const cached = cache.get(factory);\n      if (cached) {\n        return cached;\n      }\n\n      // Call factory and retrieve result.\n      let result: any;\n      let error: any;\n      try {\n        result = factory(...args);\n      } catch (err) {\n        error = err;\n      }\n\n      function withCacheSet(item: SDKContextItem<any>): SDKContextItem<any> {\n        cache.set(factory, item);\n        return item;\n      }\n\n      // If an error occurred, return it.\n      if (error) {\n        return withCacheSet({ error });\n      }\n\n      // Result may represent a tuple, where a result is placed on the first place, and\n      // a cleanup function on the second one.\n      let cleanup: CleanupFn | undefined;\n      if (Array.isArray(result)) {\n        cleanup = result[1];\n        result = result[0];\n      }\n\n      // We may have a case, when result is empty (most likely undefined), for example, when\n      // we initialize InitData. In this case we just return the result.\n      if (!result) {\n        return withCacheSet({ result, cleanup });\n      }\n\n      // Adds change event listener to the value if required, and adds bound listener to the\n      // cleanup function.\n      function finalize(v: any): SDKContextItem<any> {\n        if ('on' in v) {\n          // Forcefully refresh cache in case, something in this value changed.\n          const off = v.on('change', () => mutateCache());\n          const cleanupOriginal = cleanup;\n          cleanup = () => {\n            cleanupOriginal && cleanupOriginal();\n            off();\n          };\n        }\n        return { result: v, cleanup };\n      }\n\n      if (result instanceof Promise) {\n        result.then(\n          (value: any) => mutateCache(c => c.set(factory, finalize(value))),\n          (error: any) => mutateCache(c => c.set(factory, { error })),\n        );\n        return withCacheSet({});\n      }\n      return withCacheSet(finalize(result));\n    },\n  }), [cache]);\n\n  // Effect, responsible for changing mount state.\n  useEffect(() => {\n    // An idiotic line for React's StrictMode.\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // Effect, responsible for initializing the app in the web version of Telegram.\n  useEffect(() => {\n    if (isIframe()) {\n      return initWeb(acceptCustomStyles);\n    }\n  }, [acceptCustomStyles]);\n\n  // Effect, responsible for debug mode.\n  useEffect(() => {\n    setDebug(debug || false);\n  }, [debug]);\n\n  // Every time cache changes, we should actualize the ref to it. It is used in the next\n  // effect.\n  useEffect(() => {\n    cacheRef.current = cache;\n  }, [cache]);\n\n  // Effect, responsible for removing all components \"change\" listeners.\n  useEffect(() => {\n    return () => {\n      cacheRef.current.forEach(v => {\n        'cleanup' in v && v.cleanup && v.cleanup();\n      });\n    };\n  }, []);\n\n  return <SDKContext.Provider value={context}>{children}</SDKContext.Provider>;\n}\n"],"names":["We","Ue","oe","ae","M","it","He","Oe","r","i","F","O","se","Kt","Ge","R","G","J","V","f","ze","je","Fe","Je","Qe","Ye","ce","Ze","Ke","Xt","es","Xe","E","D","S","b","he","pe","g","y","ue","et","z","tt","st","nt","rt","B","w","k","ot","_","v","le","de","_e","at","fe","ts","ct","A","ht","ge","we","be","d","C","ss","Q","pt","me","ye","ut","o","Y","ve","Z","s","n","lt","Ee","K","dt","ne","Se","_t","ft","gt","Pe","X","xe","wt","Ce","bt","Te","Re","Ae","mt","Ie","yt","qe","vt","ke","Et","St","l","$e","ns","P","Ne","Pt","xt","rs","ee","Ct","is","te","Tt","Rt","At","re","It","os","qt","as","kt","cs","hs","Nt","ps","Vt","us","Dt","Ve","Mt","Bt","a","h","ls","Lt","$t","ds","Wt","_s","Ut","fs","Ht","gs","De","Ot","ws","bs","I","q","Gt","ms","Me","x","zt","ys","m","vs","Es","Ss","Ps","xs","Cs","Ts","jt","Rs","L","Ft","$","N","W","T","Jt","e","Be","ie","U","H","Le","Qt","As","Yt","Is","createHOCs","useRaw","useResult","createHOC","hook","propKey","ssr","Component","props","merged","jsx","SDKContext","createContext","useSDK","context","useContext","createHooks","factory","sdk","result","setResult","useState","isSSR","useEffect","raw","useBackButtonRaw","useBackButton","initBackButton","withBackButtonRaw","withBackButton","useBiometryManagerRaw","useBiometryManager","initBiometryManager","withBiometryManagerRaw","withBiometryManager","useClosingBehaviorRaw","useClosingBehavior","initClosingBehavior","withClosingBehaviorRaw","withClosingBehavior","useCloudStorageRaw","useCloudStorage","initCloudStorage","withCloudStorageRaw","withCloudStorage","useHapticFeedbackRaw","useHapticFeedback","initHapticFeedback","withHapticFeedbackRaw","withHapticFeedback","useInitDataRaw","useInitData","initInitData","withInitDataRaw","withInitData","useInvoiceRaw","useInvoice","initInvoice","withInvoiceRaw","withInvoice","useMainButtonRaw","useMainButton","initMainButton","withMainButtonRaw","withMainButton","useMiniAppRaw","useMiniApp","initMiniApp","withMiniAppRaw","withMiniApp","usePopupRaw","usePopup","initPopup","withPopupRaw","withPopup","useQRScannerRaw","useQRScanner","initQRScanner","withQRScannerRaw","withQRScanner","useSettingsButtonRaw","useSettingsButton","initSettingsButton","withSettingsButtonRaw","withSettingsButton","useSwipeBehaviorRaw","useSwipeBehavior","initSwipeBehavior","withSwipeBehaviorRaw","withSwipeBehavior","useThemeParamsRaw","useThemeParams","initThemeParams","withThemeParamsRaw","withThemeParams","useLaunchParams","lp","setLp","retrieveLaunchParams","useUtilsRaw","useUtils","initUtils","withUtilsRaw","withUtils","useViewportRaw","useViewport","initViewport","withViewportRaw","withViewport","SDKProvider","children","acceptCustomStyles","debug","isMountedRef","useRef","cache","setCache","cacheRef","mutateCache","useCallback","mutate","c","useMemo","args","cached","error","err","withCacheSet","item","cleanup","finalize","off","cleanupOriginal","value","isIframe","initWeb","setDebug"],"mappings":"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"}